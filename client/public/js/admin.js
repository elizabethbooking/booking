var Booking;Booking=angular.module("Booking",["ngRoute","angularUtils.directives.dirPagination","ngDialog","ui.calendar"]),Booking.factory("authInterceptor",["$rootScope","$q","$window",function(e,o,t){return{request:function(e){return e.headers=e.headers||{},t.sessionStorage.token?e.headers.token=t.sessionStorage.token:t.location.href="Error.html",e},response:function(e){return 401===e.status&&(t.location.href="Error.html"),e||o.when(e)}}}]),Booking.config(["$routeProvider","$locationProvider","$httpProvider",function(e,o,t){t.interceptors.push("authInterceptor"),e.when("/",{templateUrl:"/templates/admin/index.html",controller:"HomeController"}).when("/policies",{templateUrl:"/templates/views/policies.html",controller:"PoliciesController"}).when("/inventory",{templateUrl:"/templates/views/inventory.html",controller:"AdminInventoryController"}).when("/users",{templateUrl:"/templates/views/users.html",controller:"UsersController"}).when("/user-profile",{templateUrl:"/templates/views/user_profile.html",controller:"UserProfileController"}).when("/calender",{templateUrl:"/templates/views/calender.html",controller:"CalendarController"}).when("/bookings",{templateUrl:"/templates/views/booking.html",controller:"bookingController"}).when("/all-booking",{templateUrl:"/templates/views/all-booking.html",controller:"allbookingController"}).when("/logout",{templateUrl:"templates/admin/logout.html",controller:"LogoutController"}).otherwise({redirectTo:"/"})}]),Booking.run(["$rootScope","$location","LoginService",function(e,o,t){e.userRole=t.user(),e.loggedIn=!0}]);
Booking.factory("CompanyService",["$http",function(n){return{data:function(t){n.get("/api/company").success(function(n,c){t(n)})}}}]);
Booking.factory("CustomerService",["$http",function(t){return{data:function(c){t.get("/api/customer").success(function(t,n){c(t)})}}}]);
Booking.service("DataService",["$http",function(o){var t=[];this.save=function(o){t.push(o),console.log("data Saved"),console.log(t)},this.get=function(){return t}}]);
Booking.factory("InventoryService",["$http",function(s){var t=10001;return{results:[],data:function(t){s.get("/api/inventory").success(function(s,n){t(s)})},query:function(n,i){s.post("/api/availability/"+t,n).success(function(s,t){this.results=s,i(s)}.bind(this))},addRoom:function(t,n){t.company_id=10001,s.post("/admin/room",t).success(function(s,t){this.results="success",n(s)}.bind(this))},getRooms:function(n){s.get("/admin/rooms/"+t).success(function(s,t){this.results=s,n(s)}.bind(this))}}}]);
Booking.factory("LoginService",["$http","$rootScope","$window",function(o,e,n){return{auth:function(r,s){o.post("/api/login",r).success(function(o,r){n.sessionStorage.token=o.token,n.sessionStorage.role=o.role,n.sessionStorage.user=o.username,e.loggedIn=!0,s(o,r)}).error(function(){console.log("error")})},user:function(){var o="";return o=n.sessionStorage.role,console.log("user role "+o),o},logout:function(){e.loggedIn=null,delete n.sessionStorage.token,delete n.sessionStorage.role,delete n.sessionStorage.user,n.location.href="login.html"}}}]);
Booking.factory("PoliciesService",["$http",function(i){return{data:function(c){i.get("/api/policies").success(function(i,t){c(i)})}}}]);
Booking.factory("ReservationService",["$http",function(n){var t={};return t.data=function(){return n.get("/api/reservation")},t.query=function(t){return n.get("/api/reservation")},t.create=function(t){return n.post("/api/reservation",t)},t.pendingReservations=function(){return n.get("/admin/PendingReservations")},t.confirmReservation=function(t){return n.post("/admin/Confirmreservation",t)},t.EditReservation=function(t){return n.post("/admin/EditReservation",t)},t.confirmCheckin=function(t){return n.post("/admin/Confirmcheckin",t)},t.confirmCheckout=function(t){return n.post("/admin/confirmCheckout",t)},t.Todaycheckins=function(){return n.get("/admin/todayCheckins")},t.Todaycheckouts=function(){return n.get("/admin/todayCheckOuts")},t.GuestCheckedin=function(){return n.get("/Admin/GuestCheckedin")},t}]);
Booking.factory("RoleService",["$http",function(t){return{data:function(n){t.get("/api/role").success(function(t,o){n(t)})}}}]);
Booking.factory("UsersService",["$http","$window",function(s,e){return{data:function(e){s.get("/api/users").success(function(s,n){e(s)})},createUser:function(e,n){e.company_id=10001,s.post("/admin/CreateUser",e).success(function(s,e){this.results="success",n(s)}.bind(this))},getUsers:function(e){var n=10001;s.get("/admin/users/"+n).success(function(s,n){e(s)})},getUser:function(n){var t=e.sessionStorage.user;s.get("/admin/user/"+t).success(function(s,e){n(s)})}}}]);
Booking.directive("availability",["$rootScope","dateFilter",function(e,o){return{restrict:"E",templateUrl:"/templates/directives/availability.html",controller:["$scope","$location","ReservationService","$stateParams","DataService",function(e,o,r,t,s){e.selectedrooms=[],e.number=-1,e.querry=angular.fromJson(atob(t.querry)),e.selectroom=function(o,r){var t={};t.id=o,t.room=r,r.selected=!0,e.selectedrooms.push(t),e.number=o,console.log(e.selectedrooms)},e.removeroom=function(o){for(i in e.selectedrooms)e.selectedrooms[i].id==o&&e.selectedrooms.splice(i,1)},e.book=function(){var r={};r.selectedrooms=e.selectedrooms,r.querry=e.querry,r.companyid=e.selectedrooms[0].room.company_id,r.id="bookinginfo";var t=btoa(angular.toJson(r));s.save(r),o.path("/reserve/"+t)},e.submit=function(){r.query(e.query).success(function(e){}).error(function(e){alert("Errror "+e.message)})}}]}}]);
Booking.directive("footerNav",[function(){return{restrict:"E",scope:{},transclude:!0,templateUrl:"/templates/directives/footer.html",controller:"FooterController"}}]);
Booking.directive("home",[function(){return{restrict:"E",templateUrl:"/templates/home.html"}}]);
Booking.directive("errSrc",function(){return{link:function(r,c,e){c.bind("error",function(){e.src!=e.errSrc&&e.$set("src",e.errSrc)}),e.$observe("ngSrc",function(r){!r&&e.errSrc&&e.$set("src",e.errSrc)})}}});
Booking.directive("ngFileModel",[function(){return{scope:{ngFileModel:"="},link:function(e,t,i){t.bind("change",function(t){var i=new FileReader;i.onload=function(i){e.$apply(function(){e.ngFileModel={lastModified:t.target.files[0].lastModified,lastModifiedDate:t.target.files[0].lastModifiedDate,name:t.target.files[0].name,size:t.target.files[0].size,type:t.target.files[0].type,data:i.target.result}})},i.readAsDataURL(t.target.files[0])})}}}]);
Booking.directive("inventory",[function(){return{restrict:"E",templateUrl:"/templates/inventory.html"}}]);
Booking.directive("leftNav",[function(){return{restrict:"A",scope:{},transclude:!0,templateUrl:"/templates/directives/left_nav.html",controller:"LeftNavController"}}]);
Booking.directive("login",[function(){return{restrict:"E",scope:{},transclude:!0,templateUrl:"/templates/directives/login.html",controller:"LoginController"}}]);
Booking.directive("policies",[function(){return{restrict:"E",scope:{},transclude:!0,templateUrl:"/templates/directives/policies.html",controller:"PoliciesController"}}]);
Booking.directive("query",["$rootScope","dateFilter","$location",function(t,e,o){return{restrict:"E",templateUrl:"/templates/directives/query.html",controller:["$scope","InventoryService",function(e,r){e.max_adults=[1,2,3],e.max_childs=[0,1,2,3],e.query={adults:1,childs:0,check_in:(new moment).toDate(),check_out:(new moment).add(3,"days").toDate()},e.submit=function(){r.query(e.query,function(e){t.$broadcast("query:results")});var n=btoa(angular.toJson(e.query));o.path("/booking/"+n)}}]}}]);
Booking.directive("resNav",[function(){return{restrict:"E",scope:{},transclude:!0,templateUrl:"/templates/directives/res-nav.html",controller:"ResController"}}]);
Booking.directive("topNav",[function(){return{restrict:"E",scope:{},transclude:!0,templateUrl:"/templates/directives/header.html",controller:"HeaderController"}}]);
Booking.directive("users",[function(){return{restrict:"E",templateUrl:"/templates/users.html"}}]);
Booking.directive("user_profile",[function(){return{restrict:"E",templateUrl:"/templates/user_profile.html"}}]);
Booking.controller("AdminInventoryController",["$rootScope","InventoryService","ngDialog","$scope",function(o,e,t,n){this.results=e.results,o.$on("query:results",function(){this.results=e.results}.bind(this)),e.getRooms(function(o){n.rooms=o.result}),n.viewroom=function(o){n.room=o,t.open({template:"roomtmpl",className:"ngdialog-theme-default",scope:n})},n.addRoom=function(){t.openConfirm({template:"addroomstmpl",className:"ngdialog-theme-default",scope:n,preCloseCallback:function(o){return confirm("Are you sure you want to close without saving your changes?")?!0:!1}}).then(function(o){n.room=o,n.room.status="Active",e.addRoom(n.room,function(o){if(console.log(o),"success"==o.status){var e="<p>Room Successfully Created</p>";n.rooms.push(n.room)}else var e="<p>Error Saving Room</p>";t.open({template:e,plain:!0})})},function(o){})}}]);
Booking.controller("allbookingController",["$rootScope","$scope","ReservationService","ngDialog",function(n,e,o,t){o.pendingReservations().success(function(n){console.log(n.result),e.pendingConfirmation=n.result}).error(function(n){e.pendingConfirmation=[]}),e.viewdetails=function(n){e.cust=n,t.openConfirm({template:"customertmpl",className:"ngdialog-theme-default",scope:e}).then(function(n){o.confirmReservation(e.cust).success(function(n){t.open({template:"<p>Reservation Updated</p>",plain:!0}),e.pendingConfirmation.splice(e.pendingConfirmation.indexOf(e.cust),1)}).error(function(n){t.open({template:"<p>Error Updating Reservation </p>",plain:!0})})},function(n){})},e.editdetails=function(n){e.cust=n,t.openConfirm({template:"editcustomertmpl",className:"ngdialog-theme-default",scope:e}).then(function(n){o.EditReservation(e.cust).success(function(n){t.open({template:"<p>Reservation Updated</p>",plain:!0}),e.pendingConfirmation.splice(e.pendingConfirmation.indexOf(e.cust),1),e.pendingConfirmation.push(e.cust)}).error(function(n){t.open({template:"<p>Error Updating Reservation </p>",plain:!0})})},function(n){})}}]);
Booking.controller("bookingController",["$scope",function(o){}]);
Booking.controller("CalendarController",["$scope","$compile","uiCalendarConfig",function(e,t,n){var a=new Date,l=a.getDate(),r=a.getMonth(),o=a.getFullYear();e.changeTo="Hungarian",e.eventSource={url:"http://www.google.com/calendar/feeds/usa__en%40holiday.calendar.google.com/public/basic",className:"gcal-event",currentTimezone:"America/Chicago"},e.events=[{title:"All Day Event",start:new Date(o,r,1)},{title:"Long Event",start:new Date(o,r,l-5),end:new Date(o,r,l-2)},{id:999,title:"Repeating Event",start:new Date(o,r,l-3,16,0),allDay:!1},{id:999,title:"Repeating Event",start:new Date(o,r,l+4,16,0),allDay:!1},{title:"Birthday Party",start:new Date(o,r,l+1,19,0),end:new Date(o,r,l+1,22,30),allDay:!1},{title:"Click for Google",start:new Date(o,r,28),end:new Date(o,r,29),url:"http://google.com/"}],e.eventsF=function(e,t,n,a){var l=new Date(e).getTime()/1e3,r=(new Date(t).getTime()/1e3,new Date(e).getMonth()),o=[{title:"Feed Me "+r,start:l+5e4,end:l+1e5,allDay:!1,className:["customFeed"]}];a(o)},e.calEventsExt={color:"#f00",textColor:"yellow",events:[{type:"party",title:"Lunch",start:new Date(o,r,l,12,0),end:new Date(o,r,l,14,0),allDay:!1},{type:"party",title:"Lunch 2",start:new Date(o,r,l,12,0),end:new Date(o,r,l,14,0),allDay:!1},{type:"party",title:"Click for Google",start:new Date(o,r,28),end:new Date(o,r,29),url:"http://google.com/"}]},e.alertOnEventClick=function(t,n,a){e.alertMessage=t.title+" was clicked "},e.alertOnDrop=function(t,n,a,l,r,o){e.alertMessage="Event Droped to make dayDelta "+n},e.alertOnResize=function(t,n,a,l,r,o){e.alertMessage="Event Resized to make dayDelta "+n},e.addEvent=function(){e.events.push({title:"Open Sesame",start:new Date(o,r,28),end:new Date(o,r,29),className:["openSesame"]})},e.remove=function(t){e.events.splice(t,1)},e.changeView=function(e,t){n.calendars[t].fullCalendar("changeView",e)},e.renderCalender=function(e){n.calendars[e]&&n.calendars[e].fullCalendar("render")},e.eventRender=function(n,a,l){a.attr({tooltip:n.title,"tooltip-append-to-body":!0}),t(a)(e)},e.uiConfig={calendar:{height:450,editable:!0,header:{left:"title",center:"",right:"today prev,next"},eventClick:e.alertOnEventClick,eventDrop:e.alertOnDrop,eventResize:e.alertOnResize,eventRender:e.eventRender}},e.eventSources=[e.events,e.eventSource,e.eventsF],e.eventSources2=[e.calEventsExt,e.eventsF,e.events]}]);
Booking.controller("confirmationController",["DataService","$location","$scope","ReservationService",function(o,r,n,i){n.formData=o.get(),n.guestinfo=_.findWhere(n.formData,{id:"guestinfo"}).customerProfile,n.cardinfo=_.findWhere(n.formData,{id:"paymentinfo"}).paymentDetails,n.bookinginfo=_.findWhere(n.formData,{id:"bookinginfo"}).selectedrooms,n.guestSummary=_.findWhere(n.formData,{id:"bookinginfo"}).querry,n.roomsSummary=_.findWhere(n.formData,{id:"roominfo"}).summary,n.company_id=_.findWhere(n.formData,{id:"bookinginfo"}).companyid,n.processForm=function(){var o={};o.guestinfo=n.guestinfo,o.cardinfo=n.cardinfo,o.bookinginfo=n.bookinginfo,o.guestSummary=n.guestSummary,o.roomSummary=n.roomsSummary,o.company_id=n.company_id,i.create(o).success(function(o){console.log(o),n.formData="",r.path("/thanknote/"+o.success)}).error(function(o){alert("Errror "+o)})}}]);
Booking.controller("CustomerController",["CustomerService",function(o){this.customer=null,this.data="Booking Customer";var t=this;CustomerService.data(function(o){t.customer=o,console.log(o)})}]);
Booking.controller("FooterController",["$scope",function(o){}]);
Booking.controller("guestController",["DataService","$state","$scope",function(o,t,e){e.formData={},e.payment=function(){var a={};a.id="guestinfo",a.customerProfile=e.formData,o.save(a),t.go("payment")}}]);
Booking.controller("HeaderController",["$scope",function(o){}]);
Booking.controller("HomeController",["CompanyService","ReservationService","$scope","ngDialog","InventoryService",function(e,n,t,o,c){this.company=null,this.data="Booking Home";var i=this;e.data(function(e){i.company=e,t.query={adults:1,childs:0,check_in:(new moment).toDate(),check_out:(new moment).add(3,"days").toDate()},c.query(t.query,function(e){t.availability=e})}),n.pendingReservations().success(function(e){t.pendingConfirmation=e.result}).error(function(e){t.pendingConfirmation=[]}),n.Todaycheckins().success(function(e){t.Todaycheckins=e.result}).error(function(e){t.Todaycheckins=[]}),n.Todaycheckouts().success(function(e){t.Todaycheckouts=e.result}).error(function(e){t.Todaycheckouts=[]}),n.GuestCheckedin().success(function(e){t.GuestCheckedin=e.result}).error(function(e){t.GuestCheckedin=[]}),t.viewdetails=function(e){t.cust=e,o.openConfirm({template:"customertmpl",className:"ngdialog-theme-default",scope:t}).then(function(e){n.confirmReservation(t.cust).success(function(e){o.open({template:"<p>Reservation Updated</p>",plain:!0}),t.pendingConfirmation.splice(t.pendingConfirmation.indexOf(t.cust),1)}).error(function(e){o.open({template:"<p>Error Updating Reservation </p>",plain:!0})})},function(e){})},t.checkin=function(e){t.client=e,o.openConfirm({template:"checkinmpl",className:"ngdialog-theme-default",scope:t}).then(function(e){n.confirmCheckin(t.client).success(function(e){o.open({template:"<p>Client Reservation Updated to Checked in </p>",plain:!0}),t.Todaycheckins.splice(t.Todaycheckins.indexOf(t.client),1)}).error(function(e){o.open({template:"<p>Error Updating Client Reservation Status</p>",plain:!0})})},function(e){})},t.checkout=function(e){t.checkout=e,o.openConfirm({template:"checkoutmpl",className:"ngdialog-theme-default",scope:t}).then(function(e){n.confirmCheckout(t.checkout).success(function(e){o.open({template:"<p>Client Reservation Updated to Checked-OUT </p>",plain:!0}),t.Todaycheckouts.splice(t.Todaycheckouts.indexOf(t.checkout),1)}).error(function(e){o.open({template:"<p>Error Updating Client Reservation Status</p>",plain:!0})})},function(e){})}}]);
Booking.controller("InventoryController",["$rootScope","InventoryService","$scope",function(o,t,s){this.results=t.results,o.$on("query:results",function(){this.results=t.results}.bind(this)),t.getRooms(function(o){s.rooms=o.result})}]);
Booking.controller("LeftNavController",["$scope",function(o){}]);
Booking.controller("LoginController",["$rootScope","$scope","$window","LoginService",function(o,n,e,t){n.submit=function(){t.auth(n.user,function(n,t){200===t?(e.sessionStorage.token=n.token,o.loggedIn=n,e.location.href="/Admin.html"):delete e.sessionStorage.token})}}]);
Booking.controller("LogoutController",["$location","LoginService",function(o,n){n.logout(),o.path("/login")}]);
Booking.controller("paymentController",["DataService","$state","$scope",function(o,t,a){a.formData={},a.gotoConfirm=function(){var n={};n.id="paymentinfo",n.paymentDetails=a.formData,o.save(n),t.go("Confirmation")}}]);
Booking.controller("PoliciesController",["$rootScope","$scope","$location",function(o,i,c){i.policies=function(o){return policies.show=!0}}]);
Booking.controller("ResController",["$scope",function(o){}]);
Booking.controller("ReservationController",["ReservationService",function(o){this.reservation=null,this.data="Booking Rerservation";var e=this;RoleService.data(function(o){e.reservation=o,console.log(o)})}]);
Booking.controller("ReserveController",["$scope","$stateParams","$state","ReservationService","DataService","$anchorScroll","$location",function(o,r,a,e,t,m,s){s.hash("top"),m(),o.formData={},o.formData.roomDetails=angular.fromJson(atob(r.roomdetails)),o.summary={},o.summary.noRooms=o.formData.roomDetails.selectedrooms.length,o.summary.noGuest=o.formData.roomDetails.querry.adults,o.summary.startdate=o.formData.roomDetails.querry.check_in,o.summary.enddate=o.formData.roomDetails.querry.check_out,o.totalprice=function(){for(var r=0,a=0;a<o.summary.noRooms;a++)r+=o.formData.roomDetails.selectedrooms[a].room.base_price;return r},o.summary.tPrice=o.totalprice(),o.processForm=function(){e.create(o.formData).success(function(r){alert("data saved Reservation ID 9889"),o.formData=""}).error(function(o){alert("Errror "+o.message)})},o.proceed=function(){var r={};r.id="roominfo",r.roomdetails=o.formData,r.summary=o.summary,t.save(r),a.go("guestinfo")}}]);
Booking.controller("ReservePaymentController",["ReservationService",function(e){}]);
Booking.controller("bookingController",["ReservationService",function(o){}]);
Booking.controller("RoleController",["RoleService",function(o){this.role=null,this.data="Booking User Role";var l=this;o.data(function(o){l.role=o,console.log(o)})}]);
Booking.controller("thanknoteController",["$location","$scope","$stateParams",function(o,n,t){n.reservationid=t.reservationid}]);
Booking.controller("UserProfileController",["UsersService","$scope","$rootScope",function(o,e,r){o.getUser(function(o){console.log(o),e.userdetails=o.result})}]);
Booking.controller("UsersController",["UsersService","$scope","ngDialog",function(e,s,r){this.users=null,this.data="Booking Users";e.getUsers(function(e){s.users=e.result,console.log(e.result)}),s.roles=[{name:"user",id:1},{name:"admin",id:2}],s.adduser=function(){r.openConfirm({template:"usertmpl",className:"ngdialog-theme-default",scope:s}).then(function(n){s.user=n,console.log(n),e.createUser(s.user,function(e){if("ok"==e.sucess){var n="<p>User Successfully Created</p>";s.users.push(s.user)}else var n="<p>Error Creating User </p>";r.open({template:n,plain:!0})})},function(e){})}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkbWluLmpzIiwiY29tcGFueS5qcyIsImN1c3RvbWVyLmpzIiwiRGF0YVNlcnZpY2UuanMiLCJpbnZlbnRvcnkuanMiLCJsb2dpbi5qcyIsInBvbGljaWVzLmpzIiwicmVzZXJ2YXRpb24uanMiLCJyb2xlLmpzIiwidXNlcnMuanMiLCJhdmFpbGFiaWxpdHkuanMiLCJmb290ZXJfbmF2LmpzIiwiaG9tZS5qcyIsImltYWdlRXJyb3IuanMiLCJpbnB1dGZpbGUuanMiLCJsZWZ0X25hdi5qcyIsInF1ZXJ5LmpzIiwicmV6X25hdi5qcyIsInRvcF9uYXYuanMiLCJ1c2VyX3Byb2ZpbGUuanMiLCJBZG1pbkludmVudG9yeUNvbnRyb2xsZXIuanMiLCJhbGxib29raW5nQ29udHJvbGxlci5qcyIsImJvb2tpbmdDb250cm9sbGVyLmpzIiwiY2FsZW5kZXIuanMiLCJjb25maXJtYXRpb25Db250cm9sbGVyLmpzIiwiZm9vdGVyLmpzIiwiZ3Vlc3RDb250cm9sbGVyLmpzIiwiaGVhZGVyLmpzIiwibG9nb3V0LmpzIiwicGF5bWVudENvbnRyb2xsZXIuanMiLCJyZXMtaGVhZGVyLmpzIiwiUmVzZXJ2ZUNvbnRyb2xsZXIuanMiLCJSZXNlcnZlUGF5bWVudENvbnRyb2xsZXIuanMiLCJSZXNlcnZlUHJvZmlsZUNvbnRyb2xsZXIuanMiLCJ0aGFua25vdGVDb250cm9sbGVyLmpzIiwidXNlclByb2ZpbGUuanMiXSwibmFtZXMiOlsiQm9va2luZyIsImFuZ3VsYXIiLCJtb2R1bGUiLCJmYWN0b3J5IiwiJHJvb3RTY29wZSIsIiRxIiwiJHdpbmRvdyIsInJlcXVlc3QiLCJjb25maWciLCJoZWFkZXJzIiwic2Vzc2lvblN0b3JhZ2UiLCJ0b2tlbiIsImxvY2F0aW9uIiwiaHJlZiIsInJlc3BvbnNlIiwic3RhdHVzIiwid2hlbiIsIiRyb3V0ZVByb3ZpZGVyIiwiJGxvY2F0aW9uUHJvdmlkZXIiLCIkaHR0cFByb3ZpZGVyIiwiaW50ZXJjZXB0b3JzIiwicHVzaCIsInRlbXBsYXRlVXJsIiwiY29udHJvbGxlciIsIm90aGVyd2lzZSIsInJlZGlyZWN0VG8iLCJydW4iLCIkbG9jYXRpb24iLCJMb2dpblNlcnZpY2UiLCJ1c2VyUm9sZSIsInVzZXIiLCJsb2dnZWRJbiIsIiRodHRwIiwiZGF0YSIsImNhbGxiYWNrIiwiZ2V0Iiwic3VjY2VzcyIsInNlcnZpY2UiLCJ0aGlzIiwic2F2ZSIsImR0IiwiY29uc29sZSIsImxvZyIsImNvbXBhbnlfaWQiLCJyZXN1bHRzIiwicXVlcnkiLCJwb3N0IiwiYmluZCIsImFkZFJvb20iLCJyb29tIiwiZ2V0Um9vbXMiLCJhdXRoIiwiY3JlZGVudGlhbHMiLCJyb2xlIiwidXNlcm5hbWUiLCJlcnJvciIsImxvZ291dCIsInJlc2VydmF0aW9uIiwicXVlcnJ5IiwiY3JlYXRlIiwicGVuZGluZ1Jlc2VydmF0aW9ucyIsImNvbmZpcm1SZXNlcnZhdGlvbiIsIkVkaXRSZXNlcnZhdGlvbiIsImNvbmZpcm1DaGVja2luIiwiY29uZmlybUNoZWNrb3V0IiwiVG9kYXljaGVja2lucyIsIlRvZGF5Y2hlY2tvdXRzIiwiR3Vlc3RDaGVja2VkaW4iLCJjcmVhdGVVc2VyIiwiZ2V0VXNlcnMiLCJnZXRVc2VyIiwiZGlyZWN0aXZlIiwiZGF0ZUZpbHRlciIsInJlc3RyaWN0IiwiJHNjb3BlIiwiUmVzZXJ2YXRpb25TZXJ2aWNlIiwiJHN0YXRlUGFyYW1zIiwiRGF0YVNlcnZpY2UiLCJzZWxlY3RlZHJvb21zIiwibnVtYmVyIiwiZnJvbUpzb24iLCJhdG9iIiwic2VsZWN0cm9vbSIsImluZGV4Iiwicm0iLCJpZCIsInNlbGVjdGVkIiwicmVtb3Zlcm9vbSIsImkiLCJzcGxpY2UiLCJib29rIiwiayIsImNvbXBhbnlpZCIsImRldCIsImJ0b2EiLCJ0b0pzb24iLCJwYXRoIiwic3VibWl0IiwiYWxlcnQiLCJtZXNzYWdlIiwic2NvcGUiLCJ0cmFuc2NsdWRlIiwibGluayIsImVsZW1lbnQiLCJhdHRycyIsInNyYyIsImVyclNyYyIsIiRzZXQiLCIkb2JzZXJ2ZSIsInZhbHVlIiwibmdGaWxlTW9kZWwiLCJhdHRyaWJ1dGVzIiwiY2hhbmdlRXZlbnQiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwib25sb2FkIiwibG9hZEV2ZW50IiwiJGFwcGx5IiwibGFzdE1vZGlmaWVkIiwidGFyZ2V0IiwiZmlsZXMiLCJsYXN0TW9kaWZpZWREYXRlIiwibmFtZSIsInNpemUiLCJ0eXBlIiwicmVzdWx0IiwicmVhZEFzRGF0YVVSTCIsIkludmVudG9yeVNlcnZpY2UiLCJtYXhfYWR1bHRzIiwibWF4X2NoaWxkcyIsImFkdWx0cyIsImNoaWxkcyIsImNoZWNrX2luIiwibW9tZW50IiwidG9EYXRlIiwiY2hlY2tfb3V0IiwiYWRkIiwiJGJyb2FkY2FzdCIsIm5nRGlhbG9nIiwiJG9uIiwicm9vbXMiLCJ2aWV3cm9vbSIsIm9wZW4iLCJ0ZW1wbGF0ZSIsImNsYXNzTmFtZSIsIm9wZW5Db25maXJtIiwicHJlQ2xvc2VDYWxsYmFjayIsImNvbmZpcm0iLCJ0aGVuIiwidGVtcCIsInBsYWluIiwicmVhc29uIiwicGVuZGluZ0NvbmZpcm1hdGlvbiIsInZpZXdkZXRhaWxzIiwiY3VzdG9tZXIiLCJjdXN0IiwiaW5kZXhPZiIsImVkaXRkZXRhaWxzIiwiJGNvbXBpbGUiLCJ1aUNhbGVuZGFyQ29uZmlnIiwiZGF0ZSIsIkRhdGUiLCJkIiwiZ2V0RGF0ZSIsIm0iLCJnZXRNb250aCIsInkiLCJnZXRGdWxsWWVhciIsImNoYW5nZVRvIiwiZXZlbnRTb3VyY2UiLCJ1cmwiLCJjdXJyZW50VGltZXpvbmUiLCJldmVudHMiLCJ0aXRsZSIsInN0YXJ0IiwiZW5kIiwiYWxsRGF5IiwiZXZlbnRzRiIsInRpbWV6b25lIiwicyIsImdldFRpbWUiLCJjYWxFdmVudHNFeHQiLCJjb2xvciIsInRleHRDb2xvciIsImFsZXJ0T25FdmVudENsaWNrIiwianNFdmVudCIsInZpZXciLCJhbGVydE1lc3NhZ2UiLCJhbGVydE9uRHJvcCIsImV2ZW50IiwiZGVsdGEiLCJyZXZlcnRGdW5jIiwidWkiLCJhbGVydE9uUmVzaXplIiwiYWRkRXZlbnQiLCJyZW1vdmUiLCJjaGFuZ2VWaWV3IiwiY2FsZW5kYXIiLCJjYWxlbmRhcnMiLCJmdWxsQ2FsZW5kYXIiLCJyZW5kZXJDYWxlbmRlciIsImV2ZW50UmVuZGVyIiwiYXR0ciIsInRvb2x0aXAiLCJ0b29sdGlwLWFwcGVuZC10by1ib2R5IiwidWlDb25maWciLCJoZWlnaHQiLCJlZGl0YWJsZSIsImhlYWRlciIsImxlZnQiLCJjZW50ZXIiLCJyaWdodCIsImV2ZW50Q2xpY2siLCJldmVudERyb3AiLCJldmVudFJlc2l6ZSIsImV2ZW50U291cmNlcyIsImV2ZW50U291cmNlczIiLCJmb3JtRGF0YSIsImd1ZXN0aW5mbyIsIl8iLCJmaW5kV2hlcmUiLCJjdXN0b21lclByb2ZpbGUiLCJjYXJkaW5mbyIsInBheW1lbnREZXRhaWxzIiwiYm9va2luZ2luZm8iLCJndWVzdFN1bW1hcnkiLCJyb29tc1N1bW1hcnkiLCJzdW1tYXJ5IiwicHJvY2Vzc0Zvcm0iLCJyb29tU3VtbWFyeSIsInJlc3AiLCJVc2Vyc1NlcnZpY2UiLCJfc2VsZiIsIkN1c3RvbWVyU2VydmljZSIsIiRzdGF0ZSIsInBheW1lbnQiLCJnbyIsIkNvbXBhbnlTZXJ2aWNlIiwiY29tcGFueSIsImF2YWlsYWJpbGl0eSIsImNoZWNraW4iLCJjbGllbnQiLCJjaGVja291dCIsImN1c20iLCJnb3RvQ29uZmlybSIsInBvbGljaWVzIiwic2hvdyIsIlJvbGVTZXJ2aWNlIiwiJGFuY2hvclNjcm9sbCIsImhhc2giLCJyb29tRGV0YWlscyIsInJvb21kZXRhaWxzIiwibm9Sb29tcyIsImxlbmd0aCIsIm5vR3Vlc3QiLCJzdGFydGRhdGUiLCJlbmRkYXRlIiwidG90YWxwcmljZSIsInRwcmljZSIsImJhc2VfcHJpY2UiLCJ0UHJpY2UiLCJwcm9jZWVkIiwicmVzZXJ2YXRpb25pZCIsInVzZXJkZXRhaWxzIiwidXNlcnMiLCJyb2xlcyIsImFkZHVzZXIiLCJzdWNlc3MiXSwibWFwcGluZ3MiOiJBQUFBLEdBQUlBLFFBRUpBLFNB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VXZDLEdBQ2pCbkMsRUFBTzVDLEtBQUsrRSxFQUNacEUsUUFBUUMsSUFBSW1FLEdBQ0owSCxFQUFhbkssV0FBV00sRUFBTzVDLEtBQUssU0FBU2MsR0FFbEQsR0FBb0IsTUFBaEJBLEVBQVErTixPQUFhLENBQUUsR0FBSXRILEdBQU0sa0NBQzlCM0UsR0FBTzhMLE1BQU1uUCxLQUFLcUQsRUFBTzVDLFVBRTFCLElBQUl1SCxHQUFNLDZCQUVUWCxHQUFTSSxNQUNOQyxTQUFVTSxFQUNWQyxPQUFPLE9BUWxCLFNBQVVDIiwiZmlsZSI6ImFkbWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIEJvb2tpbmc7XG5cbkJvb2tpbmcgPSBhbmd1bGFyLm1vZHVsZSgnQm9va2luZycsIFsnbmdSb3V0ZScsJ2FuZ3VsYXJVdGlscy5kaXJlY3RpdmVzLmRpclBhZ2luYXRpb24nLCduZ0RpYWxvZycsJ3VpLmNhbGVuZGFyJ10pO1xuXG5Cb29raW5nLmZhY3RvcnkoJ2F1dGhJbnRlcmNlcHRvcicsWyckcm9vdFNjb3BlJywgJyRxJywgJyR3aW5kb3cnLCBmdW5jdGlvbiAoJHJvb3RTY29wZSwgJHEsICR3aW5kb3cpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICByZXF1ZXN0OiBmdW5jdGlvbiAoY29uZmlnKSB7XG4gICAgICAgIFxuICAgICAgICBjb25maWcuaGVhZGVycyA9IGNvbmZpZy5oZWFkZXJzIHx8IHt9O1xuICAgICAgICBpZiAoJHdpbmRvdy5zZXNzaW9uU3RvcmFnZS50b2tlbikge1xuICAgICAgICBjb25maWcuaGVhZGVycy50b2tlbj0gICR3aW5kb3cuc2Vzc2lvblN0b3JhZ2UudG9rZW47XG4gICAgICAgIH1cbiAgICAgICAgIGVsc2V7XG4gICAgICAgICAgIC8vIG5vIHRva2VuIGluIFN0b3JlXG4gICAgICAgICAgICAgICAgICAgICR3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiRXJyb3IuaHRtbFwiO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb25maWc7XG4gICAgICB9LFxuICAgICAgcmVzcG9uc2U6IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDEpIHtcbiAgICAgICAgLy8gaGFuZGxlIHRoZSBjYXNlIHdoZXJlIHRoZSB1c2VyIGlzIG5vdCBhdXRoZW50aWNhdGVkXG4gICAgICAgICR3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiRXJyb3IuaHRtbFwiO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gcmVzcG9uc2UgfHwgJHEud2hlbihyZXNwb25zZSk7XG4gICAgICB9XG4gICAgICB9O1xuICAgIH1dKTtcblxuXG5cbkJvb2tpbmcuY29uZmlnKFsnJHJvdXRlUHJvdmlkZXInLCAnJGxvY2F0aW9uUHJvdmlkZXInLCckaHR0cFByb3ZpZGVyJywgZnVuY3Rpb24oJHJvdXRlUHJvdmlkZXIsICRsb2NhdGlvblByb3ZpZGVyLCRodHRwUHJvdmlkZXIpe1xuICBcblxuICAgICRodHRwUHJvdmlkZXIuaW50ZXJjZXB0b3JzLnB1c2goJ2F1dGhJbnRlcmNlcHRvcicpO1xuXG4gICRyb3V0ZVByb3ZpZGVyXG4gICAgLndoZW4oJy8nLCB7XG4gICAgICB0ZW1wbGF0ZVVybCA6ICcvdGVtcGxhdGVzL2FkbWluL2luZGV4Lmh0bWwnLFxuICAgICAgY29udHJvbGxlciAgOiAnSG9tZUNvbnRyb2xsZXInXG4gICAgICAgIH0pICBcbiAgICBcbiAgICAud2hlbignL3BvbGljaWVzJywge1xuICAgICAgdGVtcGxhdGVVcmwgOiAnL3RlbXBsYXRlcy92aWV3cy9wb2xpY2llcy5odG1sJyxcbiAgICAgIGNvbnRyb2xsZXIgIDogJ1BvbGljaWVzQ29udHJvbGxlcidcbiAgICB9KVxuICAgIC53aGVuKCcvaW52ZW50b3J5Jywge1xuICAgICAgdGVtcGxhdGVVcmwgOiAnL3RlbXBsYXRlcy92aWV3cy9pbnZlbnRvcnkuaHRtbCcsXG4gICAgICBjb250cm9sbGVyICA6ICdBZG1pbkludmVudG9yeUNvbnRyb2xsZXInXG4gICAgfSlcbiAgICAud2hlbignL3VzZXJzJywge1xuICAgICAgdGVtcGxhdGVVcmwgOiAnL3RlbXBsYXRlcy92aWV3cy91c2Vycy5odG1sJyxcbiAgICAgIGNvbnRyb2xsZXIgIDogJ1VzZXJzQ29udHJvbGxlcidcbiAgICB9KVxuICAgXG4gICAgLndoZW4oJy91c2VyLXByb2ZpbGUnLCB7XG4gICAgICB0ZW1wbGF0ZVVybCA6ICcvdGVtcGxhdGVzL3ZpZXdzL3VzZXJfcHJvZmlsZS5odG1sJyxcbiAgICAgIGNvbnRyb2xsZXIgIDogJ1VzZXJQcm9maWxlQ29udHJvbGxlcidcbiAgICB9KVxuXG4gICAud2hlbignL2NhbGVuZGVyJywge1xuICAgICAgdGVtcGxhdGVVcmwgOiAnL3RlbXBsYXRlcy92aWV3cy9jYWxlbmRlci5odG1sJyxcbiAgICAgIGNvbnRyb2xsZXIgIDogJ0NhbGVuZGFyQ29udHJvbGxlcidcbiAgICB9KVxuXG4gICBcbiAgICAud2hlbignL2Jvb2tpbmdzJywge1xuICAgICAgdGVtcGxhdGVVcmwgOiAnL3RlbXBsYXRlcy92aWV3cy9ib29raW5nLmh0bWwnLFxuICAgICAgY29udHJvbGxlciAgOiAnYm9va2luZ0NvbnRyb2xsZXInXG4gICAgfSlcbiAgIC53aGVuKCcvYWxsLWJvb2tpbmcnLCB7XG4gICAgICB0ZW1wbGF0ZVVybCA6ICcvdGVtcGxhdGVzL3ZpZXdzL2FsbC1ib29raW5nLmh0bWwnLFxuICAgICAgY29udHJvbGxlciAgOiAnYWxsYm9va2luZ0NvbnRyb2xsZXInXG4gICAgfSkgXG4gICBcbiAgICAud2hlbignL2xvZ291dCcsIHtcbiAgICAgIHRlbXBsYXRlVXJsIDogJ3RlbXBsYXRlcy9hZG1pbi9sb2dvdXQuaHRtbCcsXG4gICAgICBjb250cm9sbGVyICA6ICdMb2dvdXRDb250cm9sbGVyJ1xuICAgIH0pXG4gICAgLm90aGVyd2lzZSh7IHJlZGlyZWN0VG8gOiAnLycgfSk7XG5cbiAgLy8kbG9jYXRpb25Qcm92aWRlci5odG1sNU1vZGUodHJ1ZSk7XG4gICAgXG5cbn1dKTtcblxuQm9va2luZy5ydW4oWyckcm9vdFNjb3BlJywgJyRsb2NhdGlvbicsICdMb2dpblNlcnZpY2UnLCBmdW5jdGlvbigkcm9vdFNjb3BlLCAkbG9jYXRpb24sTG9naW5TZXJ2aWNlKXtcblxuICRyb290U2NvcGUudXNlclJvbGU9TG9naW5TZXJ2aWNlLnVzZXIoKTtcbiAkcm9vdFNjb3BlLmxvZ2dlZEluPXRydWU7XG4vKlxuICAkcm9vdFNjb3BlLiRvbihcIiRyb3V0ZUNoYW5nZVN0YXJ0XCIsIGZ1bmN0aW9uKGV2ZW50LCBuZXh0LCBjdXJyZW50KXtcbiAgICBpZiAoTG9naW5TZXJ2aWNlLnVzZXIoKSA9PT0gbnVsbCkge1xuICAgICAgJHJvb3RTY29wZS5sb2dnZWRJbiA9IG51bGw7XG4gICAgICBpZiAoIG5leHQudGVtcGxhdGVVcmwgPT09ICcvdGVtcGxhdGVzL2FkbWluL2xvZ2luLmh0bWwnKSB7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkbG9jYXRpb24ucGF0aCgnLycpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gICovXG5cbn1dKTtcblxuIiwiQm9va2luZy5mYWN0b3J5KCdDb21wYW55U2VydmljZScsIFsnJGh0dHAnLCBmdW5jdGlvbigkaHR0cCl7XG4gIHJldHVybiB7XG4gICAgZGF0YSA6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgICAkaHR0cC5nZXQoJy9hcGkvY29tcGFueScpXG4gICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEsIHN0YXR1cyl7XG4gICAgICAgICAgY2FsbGJhY2soZGF0YSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxufV0pO1xuIiwiQm9va2luZy5jb250cm9sbGVyKCdDdXN0b21lckNvbnRyb2xsZXInLCBbJ0N1c3RvbWVyU2VydmljZScsIGZ1bmN0aW9uKFVzZXJzU2VydmljZSl7XG4gIHRoaXMuY3VzdG9tZXIgPSBudWxsO1xuICB0aGlzLmRhdGEgPSAnQm9va2luZyBDdXN0b21lcic7XG4gIHZhciBfc2VsZiA9IHRoaXM7XG5cbiAgQ3VzdG9tZXJTZXJ2aWNlLmRhdGEoZnVuY3Rpb24oZGF0YSl7XG4gICAgX3NlbGYuY3VzdG9tZXIgPSBkYXRhO1xuICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICB9KTtcbn1dKTsiLCJCb29raW5nLnNlcnZpY2UoJ0RhdGFTZXJ2aWNlJywgWyckaHR0cCcsIGZ1bmN0aW9uKCRodHRwKXtcblxuXHQgIHZhciBkYXRhPVtdXG5cblxuXHQgICB0aGlzLnNhdmU9ZnVuY3Rpb24oZHQpe1xuXHQgICAgIFx0ZGF0YS5wdXNoKGR0KTtcblx0ICAgICBcdGNvbnNvbGUubG9nKFwiZGF0YSBTYXZlZFwiKTtcblx0ICAgICBcdGNvbnNvbGUubG9nKGRhdGEpO1xuXG5cdCAgIH1cblx0ICAgdGhpcy5nZXQ9ZnVuY3Rpb24oKXtcblx0ICAgXHRyZXR1cm4gZGF0YTtcblx0ICAgfVxuXG4gICAgIFxufV0pOyIsIkJvb2tpbmcuY29udHJvbGxlcignSW52ZW50b3J5Q29udHJvbGxlcicsIFsnJHJvb3RTY29wZScsICdJbnZlbnRvcnlTZXJ2aWNlJywnJHNjb3BlJywgZnVuY3Rpb24oJHJvb3RTY29wZSwgSW52ZW50b3J5U2VydmljZSwkc2NvcGUpe1xuICB0aGlzLnJlc3VsdHMgPSBJbnZlbnRvcnlTZXJ2aWNlLnJlc3VsdHM7XG5cbiAgJHJvb3RTY29wZS4kb24oJ3F1ZXJ5OnJlc3VsdHMnLCBmdW5jdGlvbigpe1xuICAgIHRoaXMucmVzdWx0cyA9IEludmVudG9yeVNlcnZpY2UucmVzdWx0cztcbiAgfS5iaW5kKHRoaXMpKTtcblxuXG4gICAgICAgICAgICAgICAgICBJbnZlbnRvcnlTZXJ2aWNlLmdldFJvb21zKGZ1bmN0aW9uKHJlc3VsdHMpe1xuXG5cdFx0XHQgICAgICAgICAgJHNjb3BlLnJvb21zPXJlc3VsdHMucmVzdWx0O1xuXHRcdFx0ICAgICAgIFxuXHRcdFx0ICAgICAgICB9KTtcblxuXG5cblxufV0pO1xuIiwiQm9va2luZy5jb250cm9sbGVyKCdMb2dpbkNvbnRyb2xsZXInLCBbJyRyb290U2NvcGUnLCAnJHNjb3BlJywgJyR3aW5kb3cnLCAnTG9naW5TZXJ2aWNlJyxcbiAgZnVuY3Rpb24oJHJvb3RTY29wZSwgJHNjb3BlLCAkd2luZG93LCBMb2dpblNlcnZpY2Upe1xuICAgICRzY29wZS5zdWJtaXQgPSBmdW5jdGlvbigpe1xuICAgICAgTG9naW5TZXJ2aWNlLmF1dGgoJHNjb3BlLnVzZXIsIGZ1bmN0aW9uKGRhdGEsIHN0YXR1cyl7XG4gICAgICAgIGlmIChzdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgICAkd2luZG93LnNlc3Npb25TdG9yYWdlLnRva2VuID0gZGF0YS50b2tlbjtcbiAgICAgICAgICAkcm9vdFNjb3BlLmxvZ2dlZEluID0gZGF0YTtcbiAgICAgICAgICAkd2luZG93LmxvY2F0aW9uLmhyZWY9Jy9BZG1pbi5odG1sJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGRlbGV0ZSAkd2luZG93LnNlc3Npb25TdG9yYWdlLnRva2VuO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gIH1dXG4pO1xuXG4iLCJCb29raW5nLmNvbnRyb2xsZXIoJ1BvbGljaWVzQ29udHJvbGxlcicsIFsnJHJvb3RTY29wZScsICckc2NvcGUnLCAnJGxvY2F0aW9uJywgZnVuY3Rpb24oJHJvb3RTY29wZSwgJHNjb3BlLCAkbG9jYXRpb24pe1xuICAgICRzY29wZS5wb2xpY2llcyA9IGZ1bmN0aW9uKHNob3cpIHtcbiAgICAgIHJldHVybiBwb2xpY2llcy5zaG93ID0gdHJ1ZTsgIFxuICAgIH07XG4gIH1cbl0pO1xuXG4iLCJCb29raW5nLmNvbnRyb2xsZXIoJ1Jlc2VydmF0aW9uQ29udHJvbGxlcicsIFsnUmVzZXJ2YXRpb25TZXJ2aWNlJywgZnVuY3Rpb24oUmVzZXJ2YXRpb25TZXJ2aWNlKXtcbiAgdGhpcy5yZXNlcnZhdGlvbiA9IG51bGw7XG4gIHRoaXMuZGF0YSA9ICdCb29raW5nIFJlcnNlcnZhdGlvbic7XG4gIHZhciBfc2VsZiA9IHRoaXM7XG5cbiAgUm9sZVNlcnZpY2UuZGF0YShmdW5jdGlvbihkYXRhKXtcbiAgICBfc2VsZi5yZXNlcnZhdGlvbiA9IGRhdGE7XG4gICAgY29uc29sZS5sb2coZGF0YSk7XG4gIH0pO1xufV0pOyIsIkJvb2tpbmcuY29udHJvbGxlcignUm9sZUNvbnRyb2xsZXInLCBbJ1JvbGVTZXJ2aWNlJywgZnVuY3Rpb24oUm9sZVNlcnZpY2Upe1xuICB0aGlzLnJvbGUgPSBudWxsO1xuICB0aGlzLmRhdGEgPSAnQm9va2luZyBVc2VyIFJvbGUnO1xuICB2YXIgX3NlbGYgPSB0aGlzO1xuXG4gIFJvbGVTZXJ2aWNlLmRhdGEoZnVuY3Rpb24oZGF0YSl7XG4gICAgX3NlbGYucm9sZSA9IGRhdGE7XG4gICAgY29uc29sZS5sb2coZGF0YSk7XG4gIH0pO1xufV0pOyIsIkJvb2tpbmcuY29udHJvbGxlcignVXNlcnNDb250cm9sbGVyJywgWydVc2Vyc1NlcnZpY2UnLCckc2NvcGUnLCduZ0RpYWxvZycsIGZ1bmN0aW9uKFVzZXJzU2VydmljZSwkc2NvcGUsbmdEaWFsb2cpe1xuICB0aGlzLnVzZXJzID0gbnVsbDtcbiAgdGhpcy5kYXRhID0gJ0Jvb2tpbmcgVXNlcnMnO1xuICB2YXIgX3NlbGYgPSB0aGlzO1xuLypcbiAgVXNlcnNTZXJ2aWNlLmRhdGEoZnVuY3Rpb24oZGF0YSl7XG4gICAgX3NlbGYudXNlcnMgPSBkYXRhO1xuICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICB9KTtcbiovXG4gIFVzZXJzU2VydmljZS5nZXRVc2VycyhmdW5jdGlvbihkYXRhKXtcbiAgICAkc2NvcGUudXNlcnM9ZGF0YS5yZXN1bHQ7XG4gICAgY29uc29sZS5sb2coZGF0YS5yZXN1bHQpO1xuICB9KTtcblxuICAkc2NvcGUucm9sZXM9W3tcIm5hbWVcIjpcInVzZXJcIixcImlkXCI6MX0sXG4gICB7XCJuYW1lXCI6XCJhZG1pblwiLFwiaWRcIjoyfVxuICBdO1xuXG4gICRzY29wZS5hZGR1c2VyPWZ1bmN0aW9uKCl7XG5cbiAgICAgICAgICAgICAgICBuZ0RpYWxvZy5vcGVuQ29uZmlybSh7XG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAndXNlcnRtcGwnLFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICduZ2RpYWxvZy10aGVtZS1kZWZhdWx0JyxcbiAgICAgICAgICAgICAgICAgICAgc2NvcGU6ICRzY29wZVxuICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgXHQkc2NvcGUudXNlcj12YWx1ZTtcbiAgICAgICAgICAgICAgICBcdGNvbnNvbGUubG9nKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICBVc2Vyc1NlcnZpY2UuY3JlYXRlVXNlcigkc2NvcGUudXNlcixmdW5jdGlvbihyZXN1bHRzKXtcbiAgICAgICAgICAgICAgICBcdFx0XG4gICAgICAgICAgICAgICAgXHRcdCAgaWYgKHJlc3VsdHMuc3VjZXNzPT1cIm9rXCIpeyB2YXIgdGVtcCA9JzxwPlVzZXIgU3VjY2Vzc2Z1bGx5IENyZWF0ZWQ8L3A+JztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS51c2Vycy5wdXNoKCRzY29wZS51c2VyKTtcbiAgICAgICAgICAgICAgICBcdFx0fVxuICAgICAgICAgICAgICAgIFx0XHQgIGVsc2V7IHZhciB0ZW1wID0nPHA+RXJyb3IgQ3JlYXRpbmcgVXNlciA8L3A+Jzt9XG4gICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBuZ0RpYWxvZy5vcGVuKHtcblx0XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6IHRlbXAsXG5cdFx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWluOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyBcblxuXHRcdFx0ICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgXHR9XG5cblxuICAgICAgICAgICAgICAgIFx0LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gIH1cbn1dKTtcblxuICIsIkJvb2tpbmcuZGlyZWN0aXZlKCdhdmFpbGFiaWxpdHknLCBbJyRyb290U2NvcGUnLCAnZGF0ZUZpbHRlcicsIGZ1bmN0aW9uKCRyb290U2NvcGUsIGRhdGVGaWx0ZXIpe1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0ICAgIDogJ0UnLFxuICAgIHRlbXBsYXRlVXJsIDogJy90ZW1wbGF0ZXMvZGlyZWN0aXZlcy9hdmFpbGFiaWxpdHkuaHRtbCcsXG4gICAgY29udHJvbGxlciAgOiBbJyRzY29wZScsJyRsb2NhdGlvbicsJ1Jlc2VydmF0aW9uU2VydmljZScsJyRzdGF0ZVBhcmFtcycsJ0RhdGFTZXJ2aWNlJywgZnVuY3Rpb24oJHNjb3BlLCRsb2NhdGlvbixSZXNlcnZhdGlvblNlcnZpY2UsJHN0YXRlUGFyYW1zLERhdGFTZXJ2aWNlKXtcbiAgICAgIFxuICAgICAgJHNjb3BlLnNlbGVjdGVkcm9vbXM9W107XG4gICAgICAkc2NvcGUubnVtYmVyPS0xO1xuICAkc2NvcGUucXVlcnJ5PSBhbmd1bGFyLmZyb21Kc29uKGF0b2IoJHN0YXRlUGFyYW1zLnF1ZXJyeSkpXG4gICAgIFxuXG4kc2NvcGUuc2VsZWN0cm9vbT1mdW5jdGlvbihpbmRleCxyb29tKXtcbiAgIHZhciBybT17fTtcbiAgICBybS5pZD1pbmRleDtcbiAgICBybS5yb29tPXJvb207XG4gICAgcm9vbS5zZWxlY3RlZD10cnVlO1xuICAgICRzY29wZS5zZWxlY3RlZHJvb21zLnB1c2gocm0pO1xuICAgICRzY29wZS5udW1iZXI9aW5kZXg7XG4gICAgY29uc29sZS5sb2coJHNjb3BlLnNlbGVjdGVkcm9vbXMpXG59O1xuJHNjb3BlLnJlbW92ZXJvb209ZnVuY3Rpb24oaW5kZXgpe1xuXG4gICBmb3IgKGkgaW4gJHNjb3BlLnNlbGVjdGVkcm9vbXMpIHtcbiAgICAgICAgICAgIGlmICgkc2NvcGUuc2VsZWN0ZWRyb29tc1tpXS5pZCA9PSBpbmRleCkge1xuICAgICAgICAgICAgICAgICRzY29wZS5zZWxlY3RlZHJvb21zLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxufTtcblxuJHNjb3BlLmJvb2s9ZnVuY3Rpb24oKXtcbiAgdmFyIGs9e307XG4gICAgIGsuc2VsZWN0ZWRyb29tcz0kc2NvcGUuc2VsZWN0ZWRyb29tcztcbiAgICAgay5xdWVycnk9JHNjb3BlLnF1ZXJyeTtcbiAgICAgay5jb21wYW55aWQ9JHNjb3BlLnNlbGVjdGVkcm9vbXNbMF0ucm9vbS5jb21wYW55X2lkO1xuICAgICBrLmlkPSdib29raW5naW5mbyc7XG4gICB2YXIgZGV0PWJ0b2EoYW5ndWxhci50b0pzb24oaykpO1xuICAgRGF0YVNlcnZpY2Uuc2F2ZShrKTtcbiAgJGxvY2F0aW9uLnBhdGgoJy9yZXNlcnZlLycrZGV0KTtcbiAgXG59O1xuXG4gICAgICAkc2NvcGUuc3VibWl0ID0gZnVuY3Rpb24oKXtcbiAgICAgICAgIFJlc2VydmF0aW9uU2VydmljZS5xdWVyeSgkc2NvcGUucXVlcnkpXG4gICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uIChkYXRhKSB7XG5cbiAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuZXJyb3IoZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgYWxlcnQoXCJFcnJyb3IgXCIrZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICB9KTsgIFxuICAgICAgICBcbiAgICAgIH07XG4gICAgfV1cbiAgfTtcbn1dKTsiLCJCb29raW5nLmRpcmVjdGl2ZSgnZm9vdGVyTmF2JywgW2Z1bmN0aW9uKCl7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3QgICAgOiAnRScsXG4gICAgc2NvcGUgICAgICAgOiB7fSxcbiAgICB0cmFuc2NsdWRlICA6IHRydWUsXG4gICAgdGVtcGxhdGVVcmwgOiAnL3RlbXBsYXRlcy9kaXJlY3RpdmVzL2Zvb3Rlci5odG1sJyxcbiAgICBjb250cm9sbGVyICA6ICdGb290ZXJDb250cm9sbGVyJ1xuICB9O1xufV0pO1xuXG4iLCJCb29raW5nLmNvbnRyb2xsZXIoJ0hvbWVDb250cm9sbGVyJywgWydDb21wYW55U2VydmljZScsJ1Jlc2VydmF0aW9uU2VydmljZScsJyRzY29wZScsJ25nRGlhbG9nJywnSW52ZW50b3J5U2VydmljZScsIGZ1bmN0aW9uKENvbXBhbnlTZXJ2aWNlLFJlc2VydmF0aW9uU2VydmljZSwkc2NvcGUsbmdEaWFsb2csSW52ZW50b3J5U2VydmljZSl7XG4gIHRoaXMuY29tcGFueSA9IG51bGw7XG4gIHRoaXMuZGF0YSA9ICdCb29raW5nIEhvbWUnO1xuICB2YXIgX3NlbGYgPSB0aGlzO1xuXG4gIENvbXBhbnlTZXJ2aWNlLmRhdGEoZnVuY3Rpb24oZGF0YSl7XG4gICAgX3NlbGYuY29tcGFueSA9IGRhdGE7XG4gICAgICAgICAgJHNjb3BlLnF1ZXJ5ID0ge1xuXHRcdFx0ICAgICAgICBhZHVsdHM6IDEsXG5cdFx0XHQgICAgICAgIGNoaWxkczogMCxcblx0XHRcdCAgICAgICAgY2hlY2tfaW46IG5ldyBtb21lbnQoKS50b0RhdGUoKSxcblx0XHRcdCAgICAgICAgY2hlY2tfb3V0OiBuZXcgbW9tZW50KCkuYWRkKDMsICdkYXlzJykudG9EYXRlKClcblx0XHRcdCAgICAgIH07XG5cblx0XHRcdCAgIFxuXHRcdFx0ICAgICAgICBJbnZlbnRvcnlTZXJ2aWNlLnF1ZXJ5KCRzY29wZS5xdWVyeSwgZnVuY3Rpb24ocmVzdWx0cyl7XG5cdFx0XHQgICAgICAgICAgJHNjb3BlLmF2YWlsYWJpbGl0eT1yZXN1bHRzO1xuXHRcdFx0ICAgICAgIFxuXHRcdFx0ICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgXG5cblxuICB9KTtcblxuICAgICAgICBSZXNlcnZhdGlvblNlcnZpY2UucGVuZGluZ1Jlc2VydmF0aW9ucygpXG4gICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSl7IFxuICAgICAgICAgICAgICAgICAgXHQkc2NvcGUucGVuZGluZ0NvbmZpcm1hdGlvbj1kYXRhLnJlc3VsdDtcblx0XHRcdCAgIH0pXG5cdFx0ICAgLmVycm9yKGZ1bmN0aW9uKGRhdGEpIHtcblx0XHQgICBcbiAgICAgICAgICAgIFx0JHNjb3BlLnBlbmRpbmdDb25maXJtYXRpb249W107XG5cblx0XHQgICAgIH0pO1xuICAgIFxuICAgICAgIFJlc2VydmF0aW9uU2VydmljZS5Ub2RheWNoZWNraW5zKClcbiAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uIChkYXRhKXsgXG4gICAgICAgICAgICAgICAgIFx0JHNjb3BlLlRvZGF5Y2hlY2tpbnM9ZGF0YS5yZXN1bHQ7XG5cdFx0XHQgICB9KVxuXHRcdCAgIC5lcnJvcihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICBcdCRzY29wZS5Ub2RheWNoZWNraW5zPVtdO1xuXG5cdFx0ICAgICB9KTtcblxuXG4gICAgICBSZXNlcnZhdGlvblNlcnZpY2UuVG9kYXljaGVja291dHMoKVxuICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEpeyBcbiAgICAgICAgICAgICAgICAgXHQkc2NvcGUuVG9kYXljaGVja291dHM9ZGF0YS5yZXN1bHQ7XG5cdFx0XHQgICB9KVxuXHRcdCAgIC5lcnJvcihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICBcdCRzY29wZS5Ub2RheWNoZWNrb3V0cz1bXTtcblxuXHRcdCAgICAgfSk7XG5cbiAgICAgICAgICBSZXNlcnZhdGlvblNlcnZpY2UuR3Vlc3RDaGVja2VkaW4oKVxuICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEpeyBcbiAgICAgICAgICAgICAgICAgXHQkc2NvcGUuR3Vlc3RDaGVja2VkaW49ZGF0YS5yZXN1bHQ7XG5cdFx0XHQgICB9KVxuXHRcdCAgIC5lcnJvcihmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICBcdCRzY29wZS5HdWVzdENoZWNrZWRpbj1bXTtcblxuXHRcdCAgICAgfSk7XG5cblxuXHRcdCAkc2NvcGUudmlld2RldGFpbHMgPWZ1bmN0aW9uKGN1c3RvbWVyKXtcbiAgICAgICAgICAgICAkc2NvcGUuY3VzdD1jdXN0b21lcjtcbiAgICAgICAgICAgICAgICBuZ0RpYWxvZy5vcGVuQ29uZmlybSh7XG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnY3VzdG9tZXJ0bXBsJyxcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnbmdkaWFsb2ctdGhlbWUtZGVmYXVsdCcsXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlOiAkc2NvcGVcbiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuXG4gICAgICAgICAgICAgICAgXHRSZXNlcnZhdGlvblNlcnZpY2UuY29uZmlybVJlc2VydmF0aW9uKCRzY29wZS5jdXN0KVxuICAgICAgICAgICAgICAgIFx0ICAuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSl7IFxuXHRcdFx0ICAgICAgICAgICAgICAgICAgICBuZ0RpYWxvZy5vcGVuKHtcblx0XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8cD5SZXNlcnZhdGlvbiBVcGRhdGVkPC9wPicsXG5cdFx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWluOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnBlbmRpbmdDb25maXJtYXRpb24uc3BsaWNlKCRzY29wZS5wZW5kaW5nQ29uZmlybWF0aW9uLmluZGV4T2YoJHNjb3BlLmN1c3QpLDEpO1xuXG5cdFx0XHRcdFx0XHQgICB9KVxuXHRcdFx0XHRcdCAgIC5lcnJvcihmdW5jdGlvbihkYXRhKSB7XG5cdFx0XHRcdFx0ICAgXHQgICAgICBuZ0RpYWxvZy5vcGVuKHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPHA+RXJyb3IgVXBkYXRpbmcgUmVzZXJ2YXRpb24gPC9wPicsXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFpbjogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuXHRcdFx0XHRcdCAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgIH0gICAgICAgXG5cblxuXHRcdCAkc2NvcGUuY2hlY2tpbiA9ZnVuY3Rpb24oY3VzdG9tZXIpe1xuICAgICAgICAgICAgICRzY29wZS5jbGllbnQ9Y3VzdG9tZXI7XG4gICAgICAgICAgICAgICAgbmdEaWFsb2cub3BlbkNvbmZpcm0oe1xuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJ2NoZWNraW5tcGwnLFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICduZ2RpYWxvZy10aGVtZS1kZWZhdWx0JyxcbiAgICAgICAgICAgICAgICAgICAgc2NvcGU6ICRzY29wZVxuICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG5cbiAgICAgICAgICAgICAgICBcdFJlc2VydmF0aW9uU2VydmljZS5jb25maXJtQ2hlY2tpbigkc2NvcGUuY2xpZW50KVxuICAgICAgICAgICAgICAgIFx0ICAuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSl7IFxuXHRcdFx0ICAgICAgICAgICAgICAgICAgICBuZ0RpYWxvZy5vcGVuKHtcblx0XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8cD5DbGllbnQgUmVzZXJ2YXRpb24gVXBkYXRlZCB0byBDaGVja2VkIGluIDwvcD4nLFxuXHRcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFpbjogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5Ub2RheWNoZWNraW5zLnNwbGljZSgkc2NvcGUuVG9kYXljaGVja2lucy5pbmRleE9mKCRzY29wZS5jbGllbnQpLDEpO1xuXG5cdFx0XHRcdFx0XHQgICB9KVxuXHRcdFx0XHRcdCAgIC5lcnJvcihmdW5jdGlvbihkYXRhKSB7XG5cdFx0XHRcdFx0ICAgXHQgICAgICBuZ0RpYWxvZy5vcGVuKHtcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPHA+RXJyb3IgVXBkYXRpbmcgQ2xpZW50IFJlc2VydmF0aW9uIFN0YXR1czwvcD4nLFxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhaW46IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cblx0XHRcdFx0XHQgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICB9ICAgIFxuXG5cbiAgICAgICAkc2NvcGUuY2hlY2tvdXQgPWZ1bmN0aW9uKGN1c20pe1xuICAgICAgICAgICAgICRzY29wZS5jaGVja291dD1jdXNtO1xuICAgICAgICAgICAgICAgIG5nRGlhbG9nLm9wZW5Db25maXJtKHtcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICdjaGVja291dG1wbCcsXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ25nZGlhbG9nLXRoZW1lLWRlZmF1bHQnLFxuICAgICAgICAgICAgICAgICAgICBzY29wZTogJHNjb3BlXG4gICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcblxuICAgICAgICAgICAgICAgIFx0UmVzZXJ2YXRpb25TZXJ2aWNlLmNvbmZpcm1DaGVja291dCgkc2NvcGUuY2hlY2tvdXQpXG4gICAgICAgICAgICAgICAgXHQgIC5zdWNjZXNzKGZ1bmN0aW9uIChkYXRhKXsgXG5cdFx0XHQgICAgICAgICAgICAgICAgICAgIG5nRGlhbG9nLm9wZW4oe1xuXHRcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxwPkNsaWVudCBSZXNlcnZhdGlvbiBVcGRhdGVkIHRvIENoZWNrZWQtT1VUIDwvcD4nLFxuXHRcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFpbjogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5Ub2RheWNoZWNrb3V0cy5zcGxpY2UoJHNjb3BlLlRvZGF5Y2hlY2tvdXRzLmluZGV4T2YoJHNjb3BlLmNoZWNrb3V0KSwxKTtcblxuXHRcdFx0XHRcdFx0ICAgfSlcblx0XHRcdFx0XHQgICAuZXJyb3IoZnVuY3Rpb24oZGF0YSkge1xuXHRcdFx0XHRcdCAgIFx0ICAgICAgbmdEaWFsb2cub3Blbih7XG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxwPkVycm9yIFVwZGF0aW5nIENsaWVudCBSZXNlcnZhdGlvbiBTdGF0dXM8L3A+Jyxcblx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWluOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG5cdFx0XHRcdFx0ICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgfSAgOyAgICAgXG4gICBcblxuICAgXG5cblxuXG5cbn1dKTtcbiIsIkJvb2tpbmcuZGlyZWN0aXZlKCdlcnJTcmMnLCBmdW5jdGlvbigpIHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcclxuICAgICAgICAgIGVsZW1lbnQuYmluZCgnZXJyb3InLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaWYgKGF0dHJzLnNyYyAhPSBhdHRycy5lcnJTcmMpIHtcclxuICAgICAgICAgICAgICBhdHRycy4kc2V0KCdzcmMnLCBhdHRycy5lcnJTcmMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgYXR0cnMuJG9ic2VydmUoJ25nU3JjJywgZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICAgICAgaWYgKCF2YWx1ZSAmJiBhdHRycy5lcnJTcmMpIHtcclxuICAgICAgICAgICAgICBhdHRycy4kc2V0KCdzcmMnLCBhdHRycy5lcnJTcmMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pOyIsIiAgICBCb29raW5nLmRpcmVjdGl2ZShcIm5nRmlsZU1vZGVsXCIsIFtmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgc2NvcGU6IHtcclxuICAgICAgICAgICAgICAgIG5nRmlsZU1vZGVsOiBcIj1cIlxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuYmluZChcImNoYW5nZVwiLCBmdW5jdGlvbiAoY2hhbmdlRXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKGxvYWRFdmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUubmdGaWxlTW9kZWwgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdE1vZGlmaWVkOiBjaGFuZ2VFdmVudC50YXJnZXQuZmlsZXNbMF0ubGFzdE1vZGlmaWVkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RNb2RpZmllZERhdGU6IGNoYW5nZUV2ZW50LnRhcmdldC5maWxlc1swXS5sYXN0TW9kaWZpZWREYXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGNoYW5nZUV2ZW50LnRhcmdldC5maWxlc1swXS5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IGNoYW5nZUV2ZW50LnRhcmdldC5maWxlc1swXS5zaXplLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGNoYW5nZUV2ZW50LnRhcmdldC5maWxlc1swXS50eXBlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGxvYWRFdmVudC50YXJnZXQucmVzdWx0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoY2hhbmdlRXZlbnQudGFyZ2V0LmZpbGVzWzBdKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfV0pOyIsIkJvb2tpbmcuY29udHJvbGxlcignTGVmdE5hdkNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSl7XG59XSk7XG5cbiIsIkJvb2tpbmcuZGlyZWN0aXZlKCdxdWVyeScsIFsnJHJvb3RTY29wZScsICdkYXRlRmlsdGVyJywnJGxvY2F0aW9uJyAsZnVuY3Rpb24oJHJvb3RTY29wZSwgZGF0ZUZpbHRlciwkbG9jYXRpb24pe1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0ICAgIDogJ0UnLFxuICAgIHRlbXBsYXRlVXJsIDogJy90ZW1wbGF0ZXMvZGlyZWN0aXZlcy9xdWVyeS5odG1sJyxcbiAgICBjb250cm9sbGVyICA6IFsnJHNjb3BlJywgJ0ludmVudG9yeVNlcnZpY2UnLCBmdW5jdGlvbigkc2NvcGUsIEludmVudG9yeVNlcnZpY2Upe1xuICAgICAgJHNjb3BlLm1heF9hZHVsdHMgPSBbMSwyLDNdO1xuICAgICAgJHNjb3BlLm1heF9jaGlsZHMgPSBbMCwxLDIsM107XG4gICAgICAkc2NvcGUucXVlcnkgPSB7XG4gICAgICAgIGFkdWx0czogMSxcbiAgICAgICAgY2hpbGRzOiAwLFxuICAgICAgICBjaGVja19pbjogbmV3IG1vbWVudCgpLnRvRGF0ZSgpLFxuICAgICAgICBjaGVja19vdXQ6IG5ldyBtb21lbnQoKS5hZGQoMywgJ2RheXMnKS50b0RhdGUoKVxuICAgICAgfTtcblxuICAgICAgJHNjb3BlLnN1Ym1pdCA9IGZ1bmN0aW9uKCl7XG4gICAgICAgIEludmVudG9yeVNlcnZpY2UucXVlcnkoJHNjb3BlLnF1ZXJ5LCBmdW5jdGlvbihyZXN1bHRzKXtcbiAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ3F1ZXJ5OnJlc3VsdHMnKTtcbiAgICAgICAgfSk7XG4gICAgICAgICAgICAgdmFyIGRldD1idG9hKGFuZ3VsYXIudG9Kc29uKCRzY29wZS5xdWVyeSkpO1xuICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvYm9va2luZy8nK2RldCk7XG4gICAgICB9XG4gICAgfV1cbiAgfTtcbn1dKTtcblxuIiwiQm9va2luZy5kaXJlY3RpdmUoJ3Jlc05hdicsIFtmdW5jdGlvbigpe1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0ICAgIDogJ0UnLFxuICAgIHNjb3BlICAgICAgIDoge30sXG4gICAgdHJhbnNjbHVkZSAgOiB0cnVlLFxuICAgIHRlbXBsYXRlVXJsIDogJy90ZW1wbGF0ZXMvZGlyZWN0aXZlcy9yZXMtbmF2Lmh0bWwnLFxuICAgIGNvbnRyb2xsZXIgIDogJ1Jlc0NvbnRyb2xsZXInXG4gIH07XG59XSk7XG5cbiIsIkJvb2tpbmcuZGlyZWN0aXZlKCd0b3BOYXYnLCBbZnVuY3Rpb24oKXtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdCAgICA6ICdFJyxcbiAgICBzY29wZSAgICAgICA6IHt9LFxuICAgIHRyYW5zY2x1ZGUgIDogdHJ1ZSxcbiAgICB0ZW1wbGF0ZVVybCA6ICcvdGVtcGxhdGVzL2RpcmVjdGl2ZXMvaGVhZGVyLmh0bWwnLFxuICAgIGNvbnRyb2xsZXIgIDogJ0hlYWRlckNvbnRyb2xsZXInXG4gIH07XG59XSk7XG5cbiIsIkJvb2tpbmcuZGlyZWN0aXZlKCd1c2VyX3Byb2ZpbGUnLCBbZnVuY3Rpb24oKXtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdCAgICA6ICdFJyxcbiAgICB0ZW1wbGF0ZVVybCA6ICcvdGVtcGxhdGVzL3VzZXJfcHJvZmlsZS5odG1sJ1xuICB9O1xufV0pO1xuIiwiQm9va2luZy5jb250cm9sbGVyKCdBZG1pbkludmVudG9yeUNvbnRyb2xsZXInLCBbJyRyb290U2NvcGUnLCAnSW52ZW50b3J5U2VydmljZScsJ25nRGlhbG9nJywnJHNjb3BlJywgZnVuY3Rpb24oJHJvb3RTY29wZSwgSW52ZW50b3J5U2VydmljZSxuZ0RpYWxvZywkc2NvcGUpe1xyXG4gIHRoaXMucmVzdWx0cyA9IEludmVudG9yeVNlcnZpY2UucmVzdWx0cztcclxuXHJcbiAgJHJvb3RTY29wZS4kb24oJ3F1ZXJ5OnJlc3VsdHMnLCBmdW5jdGlvbigpe1xyXG4gICAgdGhpcy5yZXN1bHRzID0gSW52ZW50b3J5U2VydmljZS5yZXN1bHRzO1xyXG4gIH0uYmluZCh0aGlzKSk7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgSW52ZW50b3J5U2VydmljZS5nZXRSb29tcyhmdW5jdGlvbihyZXN1bHRzKXtcclxuXHJcblx0XHRcdCAgICAgICAgICAkc2NvcGUucm9vbXM9cmVzdWx0cy5yZXN1bHQ7XHJcblx0XHRcdCAgICAgICBcclxuXHRcdFx0ICAgICAgICB9KTtcclxuXHJcbiAkc2NvcGUudmlld3Jvb209ZnVuY3Rpb24ocm9vbSl7XHJcbiAgJHNjb3BlLnJvb209cm9vbTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmdEaWFsb2cub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJ3Jvb210bXBsJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ25nZGlhbG9nLXRoZW1lLWRlZmF1bHQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlOiAkc2NvcGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiB9O1xyXG4gICRzY29wZS5hZGRSb29tPWZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICBcdG5nRGlhbG9nLm9wZW5Db25maXJtKHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJ2FkZHJvb21zdG1wbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnbmdkaWFsb2ctdGhlbWUtZGVmYXVsdCcsXHJcbiAgICAgICAgICAgICAgICAgICAgc2NvcGU6ICRzY29wZSxcclxuICAgICAgICAgICAgICAgICAgICBwcmVDbG9zZUNhbGxiYWNrOiBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihjb25maXJtKCdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gY2xvc2Ugd2l0aG91dCBzYXZpbmcgeW91ciBjaGFuZ2VzPycpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIFx0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5yb29tPXZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucm9vbS5zdGF0dXM9XCJBY3RpdmVcIjtcclxuXHJcbiAgICAgICAgICAgICAgICBcdEludmVudG9yeVNlcnZpY2UuYWRkUm9vbSgkc2NvcGUucm9vbSxmdW5jdGlvbihyZXN1bHRzKXtcclxuICAgICAgICAgICAgICAgIFx0XHRjb25zb2xlLmxvZyhyZXN1bHRzKTtcclxuICAgICAgICAgICAgICAgIFx0XHQgIGlmIChyZXN1bHRzLnN0YXR1cz09XCJzdWNjZXNzXCIpeyB2YXIgdGVtcCA9JzxwPlJvb20gU3VjY2Vzc2Z1bGx5IENyZWF0ZWQ8L3A+JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnJvb21zLnB1c2goJHNjb3BlLnJvb20pO1xyXG4gICAgICAgICAgICAgICAgXHRcdH1cclxuICAgICAgICAgICAgICAgIFx0XHQgIGVsc2V7IHZhciB0ZW1wID0nPHA+RXJyb3IgU2F2aW5nIFJvb208L3A+Jzt9XHJcbiAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgbmdEaWFsb2cub3Blbih7XHJcblx0XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6IHRlbXAsXHJcblx0XHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhaW46IHRydWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgXHJcblxyXG5cdFx0XHQgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBcdCBcclxuICAgICAgICAgICAgICAgIFx0XHJcblxyXG4gICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICB9XHJcblxyXG59XSk7XHJcbiIsIkJvb2tpbmcuY29udHJvbGxlcignYWxsYm9va2luZ0NvbnRyb2xsZXInLCBbJyRyb290U2NvcGUnLCckc2NvcGUnLCdSZXNlcnZhdGlvblNlcnZpY2UnLCduZ0RpYWxvZycgLGZ1bmN0aW9uKCRyb290U2NvcGUsJHNjb3BlLFJlc2VydmF0aW9uU2VydmljZSxuZ0RpYWxvZyl7XHJcbiAgICAgICAgICAgIFJlc2VydmF0aW9uU2VydmljZS5wZW5kaW5nUmVzZXJ2YXRpb25zKClcclxuICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEpeyBcclxuXHJcbiAgICAgICAgICAgIFx0Y29uc29sZS5sb2coZGF0YS5yZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICBcdCRzY29wZS5wZW5kaW5nQ29uZmlybWF0aW9uPWRhdGEucmVzdWx0O1xyXG5cdFx0XHQgICB9KVxyXG5cdFx0ICAgLmVycm9yKGZ1bmN0aW9uKGRhdGEpIHtcclxuXHRcdCAgIFxyXG4gICAgICAgICAgICBcdCRzY29wZS5wZW5kaW5nQ29uZmlybWF0aW9uPVtdO1xyXG5cclxuXHRcdCAgICAgfSk7XHJcblxyXG5cclxuXHQkc2NvcGUudmlld2RldGFpbHMgPWZ1bmN0aW9uKGN1c3RvbWVyKXtcclxuICAgICAgICAgICAgICRzY29wZS5jdXN0PWN1c3RvbWVyO1xyXG4gICAgICAgICAgICAgICAgbmdEaWFsb2cub3BlbkNvbmZpcm0oe1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnY3VzdG9tZXJ0bXBsJyxcclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICduZ2RpYWxvZy10aGVtZS1kZWZhdWx0JyxcclxuICAgICAgICAgICAgICAgICAgICBzY29wZTogJHNjb3BlXHJcbiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xyXG5cclxuICAgICAgICAgICAgICAgIFx0UmVzZXJ2YXRpb25TZXJ2aWNlLmNvbmZpcm1SZXNlcnZhdGlvbigkc2NvcGUuY3VzdClcclxuICAgICAgICAgICAgICAgIFx0ICAuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSl7IFxyXG5cdFx0XHQgICAgICAgICAgICAgICAgICAgIG5nRGlhbG9nLm9wZW4oe1xyXG5cdFx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPHA+UmVzZXJ2YXRpb24gVXBkYXRlZDwvcD4nLFxyXG5cdFx0ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWluOiB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7ICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5wZW5kaW5nQ29uZmlybWF0aW9uLnNwbGljZSgkc2NvcGUucGVuZGluZ0NvbmZpcm1hdGlvbi5pbmRleE9mKCRzY29wZS5jdXN0KSwxKTtcclxuXHJcblx0XHRcdFx0XHRcdCAgIH0pXHJcblx0XHRcdFx0XHQgICAuZXJyb3IoZnVuY3Rpb24oZGF0YSkge1xyXG5cdFx0XHRcdFx0ICAgXHQgICAgICBuZ0RpYWxvZy5vcGVuKHtcclxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8cD5FcnJvciBVcGRhdGluZyBSZXNlcnZhdGlvbiA8L3A+JyxcclxuXHQgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhaW46IHRydWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcblx0XHRcdFx0XHQgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgfTtcclxuXHJcbiAgICRzY29wZS5lZGl0ZGV0YWlscyA9ZnVuY3Rpb24oY3VzdG9tZXIpe1xyXG4gICAgICAgICAgICAgICRzY29wZS5jdXN0PWN1c3RvbWVyO1xyXG4gICAgICAgICAgICAgICAgbmdEaWFsb2cub3BlbkNvbmZpcm0oe1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnZWRpdGN1c3RvbWVydG1wbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnbmdkaWFsb2ctdGhlbWUtZGVmYXVsdCcsXHJcbiAgICAgICAgICAgICAgICAgICAgc2NvcGU6ICRzY29wZVxyXG4gICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBcdFJlc2VydmF0aW9uU2VydmljZS5FZGl0UmVzZXJ2YXRpb24oJHNjb3BlLmN1c3QpXHJcbiAgICAgICAgICAgICAgICBcdCAgLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEpeyBcclxuXHRcdFx0ICAgICAgICAgICAgICAgICAgICBuZ0RpYWxvZy5vcGVuKHtcclxuXHRcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxwPlJlc2VydmF0aW9uIFVwZGF0ZWQ8L3A+JyxcclxuXHRcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFpbjogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucGVuZGluZ0NvbmZpcm1hdGlvbi5zcGxpY2UoJHNjb3BlLnBlbmRpbmdDb25maXJtYXRpb24uaW5kZXhPZigkc2NvcGUuY3VzdCksMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucGVuZGluZ0NvbmZpcm1hdGlvbi5wdXNoKCRzY29wZS5jdXN0KTtcclxuXHRcdFx0XHRcdFx0ICAgfSlcclxuXHRcdFx0XHRcdCAgIC5lcnJvcihmdW5jdGlvbihkYXRhKSB7XHJcblx0XHRcdFx0XHQgICBcdCAgICAgIG5nRGlhbG9nLm9wZW4oe1xyXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxwPkVycm9yIFVwZGF0aW5nIFJlc2VydmF0aW9uIDwvcD4nLFxyXG5cdCAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFpbjogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuXHRcdFx0XHRcdCAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgfTtcclxuXHJcblxyXG59XSk7XHJcbiIsIkJvb2tpbmcuY29udHJvbGxlcignYm9va2luZ0NvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSl7XHJcbiAgXHJcblxyXG59XSk7XHJcbiIsIkJvb2tpbmcuY29udHJvbGxlcignQ2FsZW5kYXJDb250cm9sbGVyJywgWyckc2NvcGUnLCckY29tcGlsZScsJ3VpQ2FsZW5kYXJDb25maWcnLCBmdW5jdGlvbigkc2NvcGUsJGNvbXBpbGUsdWlDYWxlbmRhckNvbmZpZyl7XHJcbiAvKiBjb25maWcgb2JqZWN0ICovXHJcbiAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICB2YXIgZCA9IGRhdGUuZ2V0RGF0ZSgpO1xyXG4gICAgdmFyIG0gPSBkYXRlLmdldE1vbnRoKCk7XHJcbiAgICB2YXIgeSA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcclxuICAgIFxyXG4gICAgJHNjb3BlLmNoYW5nZVRvID0gJ0h1bmdhcmlhbic7XHJcbiAgICAvKiBldmVudCBzb3VyY2UgdGhhdCBwdWxscyBmcm9tIGdvb2dsZS5jb20gKi9cclxuICAgICRzY29wZS5ldmVudFNvdXJjZSA9IHtcclxuICAgICAgICAgICAgdXJsOiBcImh0dHA6Ly93d3cuZ29vZ2xlLmNvbS9jYWxlbmRhci9mZWVkcy91c2FfX2VuJTQwaG9saWRheS5jYWxlbmRhci5nb29nbGUuY29tL3B1YmxpYy9iYXNpY1wiLFxyXG4gICAgICAgICAgICBjbGFzc05hbWU6ICdnY2FsLWV2ZW50JywgICAgICAgICAgIC8vIGFuIG9wdGlvbiFcclxuICAgICAgICAgICAgY3VycmVudFRpbWV6b25lOiAnQW1lcmljYS9DaGljYWdvJyAvLyBhbiBvcHRpb24hXHJcbiAgICB9O1xyXG5cclxuXHJcblxyXG4gICAkc2NvcGUuZXZlbnRzID0gW1xyXG4gICAgICB7dGl0bGU6ICdBbGwgRGF5IEV2ZW50JyxzdGFydDogbmV3IERhdGUoeSwgbSwgMSl9LFxyXG4gICAgICB7dGl0bGU6ICdMb25nIEV2ZW50JyxzdGFydDogbmV3IERhdGUoeSwgbSwgZCAtIDUpLGVuZDogbmV3IERhdGUoeSwgbSwgZCAtIDIpfSxcclxuICAgICAge2lkOiA5OTksdGl0bGU6ICdSZXBlYXRpbmcgRXZlbnQnLHN0YXJ0OiBuZXcgRGF0ZSh5LCBtLCBkIC0gMywgMTYsIDApLGFsbERheTogZmFsc2V9LFxyXG4gICAgICB7aWQ6IDk5OSx0aXRsZTogJ1JlcGVhdGluZyBFdmVudCcsc3RhcnQ6IG5ldyBEYXRlKHksIG0sIGQgKyA0LCAxNiwgMCksYWxsRGF5OiBmYWxzZX0sXHJcbiAgICAgIHt0aXRsZTogJ0JpcnRoZGF5IFBhcnR5JyxzdGFydDogbmV3IERhdGUoeSwgbSwgZCArIDEsIDE5LCAwKSxlbmQ6IG5ldyBEYXRlKHksIG0sIGQgKyAxLCAyMiwgMzApLGFsbERheTogZmFsc2V9LFxyXG4gICAgICB7dGl0bGU6ICdDbGljayBmb3IgR29vZ2xlJyxzdGFydDogbmV3IERhdGUoeSwgbSwgMjgpLGVuZDogbmV3IERhdGUoeSwgbSwgMjkpLHVybDogJ2h0dHA6Ly9nb29nbGUuY29tLyd9XHJcbiAgICBdO1xyXG5cclxuXHJcbiAgICAgLyogZXZlbnQgc291cmNlIHRoYXQgY2FsbHMgYSBmdW5jdGlvbiBvbiBldmVyeSB2aWV3IHN3aXRjaCAqL1xyXG4gICAgJHNjb3BlLmV2ZW50c0YgPSBmdW5jdGlvbiAoc3RhcnQsIGVuZCwgdGltZXpvbmUsIGNhbGxiYWNrKSB7XHJcbiAgICAgIHZhciBzID0gbmV3IERhdGUoc3RhcnQpLmdldFRpbWUoKSAvIDEwMDA7XHJcbiAgICAgIHZhciBlID0gbmV3IERhdGUoZW5kKS5nZXRUaW1lKCkgLyAxMDAwO1xyXG4gICAgICB2YXIgbSA9IG5ldyBEYXRlKHN0YXJ0KS5nZXRNb250aCgpO1xyXG4gICAgICB2YXIgZXZlbnRzID0gW3t0aXRsZTogJ0ZlZWQgTWUgJyArIG0sc3RhcnQ6IHMgKyAoNTAwMDApLGVuZDogcyArICgxMDAwMDApLGFsbERheTogZmFsc2UsIGNsYXNzTmFtZTogWydjdXN0b21GZWVkJ119XTtcclxuICAgICAgY2FsbGJhY2soZXZlbnRzKTtcclxuICAgIH07XHJcblxyXG4gICAgJHNjb3BlLmNhbEV2ZW50c0V4dCA9IHtcclxuICAgICAgIGNvbG9yOiAnI2YwMCcsXHJcbiAgICAgICB0ZXh0Q29sb3I6ICd5ZWxsb3cnLFxyXG4gICAgICAgZXZlbnRzOiBbIFxyXG4gICAgICAgICAge3R5cGU6J3BhcnR5Jyx0aXRsZTogJ0x1bmNoJyxzdGFydDogbmV3IERhdGUoeSwgbSwgZCwgMTIsIDApLGVuZDogbmV3IERhdGUoeSwgbSwgZCwgMTQsIDApLGFsbERheTogZmFsc2V9LFxyXG4gICAgICAgICAge3R5cGU6J3BhcnR5Jyx0aXRsZTogJ0x1bmNoIDInLHN0YXJ0OiBuZXcgRGF0ZSh5LCBtLCBkLCAxMiwgMCksZW5kOiBuZXcgRGF0ZSh5LCBtLCBkLCAxNCwgMCksYWxsRGF5OiBmYWxzZX0sXHJcbiAgICAgICAgICB7dHlwZToncGFydHknLHRpdGxlOiAnQ2xpY2sgZm9yIEdvb2dsZScsc3RhcnQ6IG5ldyBEYXRlKHksIG0sIDI4KSxlbmQ6IG5ldyBEYXRlKHksIG0sIDI5KSx1cmw6ICdodHRwOi8vZ29vZ2xlLmNvbS8nfVxyXG4gICAgICAgIF1cclxuICAgIH07XHJcbiAgICAvKiBhbGVydCBvbiBldmVudENsaWNrICovXHJcbiAgICAkc2NvcGUuYWxlcnRPbkV2ZW50Q2xpY2sgPSBmdW5jdGlvbiggZGF0ZSwganNFdmVudCwgdmlldyl7XHJcbiAgICAgICAgJHNjb3BlLmFsZXJ0TWVzc2FnZSA9IChkYXRlLnRpdGxlICsgJyB3YXMgY2xpY2tlZCAnKTtcclxuICAgIH07XHJcbiAgICAvKiBhbGVydCBvbiBEcm9wICovXHJcbiAgICAgJHNjb3BlLmFsZXJ0T25Ecm9wID0gZnVuY3Rpb24oZXZlbnQsIGRlbHRhLCByZXZlcnRGdW5jLCBqc0V2ZW50LCB1aSwgdmlldyl7XHJcbiAgICAgICAkc2NvcGUuYWxlcnRNZXNzYWdlID0gKCdFdmVudCBEcm9wZWQgdG8gbWFrZSBkYXlEZWx0YSAnICsgZGVsdGEpO1xyXG4gICAgfTtcclxuICAgIC8qIGFsZXJ0IG9uIFJlc2l6ZSAqL1xyXG4gICAgJHNjb3BlLmFsZXJ0T25SZXNpemUgPSBmdW5jdGlvbihldmVudCwgZGVsdGEsIHJldmVydEZ1bmMsIGpzRXZlbnQsIHVpLCB2aWV3ICl7XHJcbiAgICAgICAkc2NvcGUuYWxlcnRNZXNzYWdlID0gKCdFdmVudCBSZXNpemVkIHRvIG1ha2UgZGF5RGVsdGEgJyArIGRlbHRhKTtcclxuICAgIH07XHJcbiAgICBcclxuXHJcbiAgICAvKiBhZGQgY3VzdG9tIGV2ZW50Ki9cclxuICAgICRzY29wZS5hZGRFdmVudCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAkc2NvcGUuZXZlbnRzLnB1c2goe1xyXG4gICAgICAgIHRpdGxlOiAnT3BlbiBTZXNhbWUnLFxyXG4gICAgICAgIHN0YXJ0OiBuZXcgRGF0ZSh5LCBtLCAyOCksXHJcbiAgICAgICAgZW5kOiBuZXcgRGF0ZSh5LCBtLCAyOSksXHJcbiAgICAgICAgY2xhc3NOYW1lOiBbJ29wZW5TZXNhbWUnXVxyXG4gICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKiByZW1vdmUgZXZlbnQgKi9cclxuICAgICRzY29wZS5yZW1vdmUgPSBmdW5jdGlvbihpbmRleCkge1xyXG4gICAgICAkc2NvcGUuZXZlbnRzLnNwbGljZShpbmRleCwxKTtcclxuICAgIH07XHJcbiAgICAvKiBDaGFuZ2UgVmlldyAqL1xyXG4gICAgJHNjb3BlLmNoYW5nZVZpZXcgPSBmdW5jdGlvbih2aWV3LGNhbGVuZGFyKSB7XHJcbiAgICAgIHVpQ2FsZW5kYXJDb25maWcuY2FsZW5kYXJzW2NhbGVuZGFyXS5mdWxsQ2FsZW5kYXIoJ2NoYW5nZVZpZXcnLHZpZXcpO1xyXG4gICAgfTtcclxuICAgIC8qIENoYW5nZSBWaWV3ICovXHJcbiAgICAkc2NvcGUucmVuZGVyQ2FsZW5kZXIgPSBmdW5jdGlvbihjYWxlbmRhcikge1xyXG4gICAgICBpZih1aUNhbGVuZGFyQ29uZmlnLmNhbGVuZGFyc1tjYWxlbmRhcl0pe1xyXG4gICAgICAgIHVpQ2FsZW5kYXJDb25maWcuY2FsZW5kYXJzW2NhbGVuZGFyXS5mdWxsQ2FsZW5kYXIoJ3JlbmRlcicpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gICAgIC8qIFJlbmRlciBUb29sdGlwICovXHJcbiAgICAkc2NvcGUuZXZlbnRSZW5kZXIgPSBmdW5jdGlvbiggZXZlbnQsIGVsZW1lbnQsIHZpZXcgKSB7IFxyXG4gICAgICAgIGVsZW1lbnQuYXR0cih7J3Rvb2x0aXAnOiBldmVudC50aXRsZSxcclxuICAgICAgICAgICAgICAgICAgICAgJ3Rvb2x0aXAtYXBwZW5kLXRvLWJvZHknOiB0cnVlfSk7XHJcbiAgICAgICAgJGNvbXBpbGUoZWxlbWVudCkoJHNjb3BlKTtcclxuICAgIH07XHJcbiAgICAvKiBjb25maWcgb2JqZWN0ICovXHJcbiAgICAkc2NvcGUudWlDb25maWcgPSB7XHJcbiAgICAgIGNhbGVuZGFyOntcclxuICAgICAgICBoZWlnaHQ6IDQ1MCxcclxuICAgICAgICBlZGl0YWJsZTogdHJ1ZSxcclxuICAgICAgICBoZWFkZXI6e1xyXG4gICAgICAgICAgbGVmdDogJ3RpdGxlJyxcclxuICAgICAgICAgIGNlbnRlcjogJycsXHJcbiAgICAgICAgICByaWdodDogJ3RvZGF5IHByZXYsbmV4dCdcclxuICAgICAgICB9LFxyXG4gICAgICAgIGV2ZW50Q2xpY2s6ICRzY29wZS5hbGVydE9uRXZlbnRDbGljayxcclxuICAgICAgICBldmVudERyb3A6ICRzY29wZS5hbGVydE9uRHJvcCxcclxuICAgICAgICBldmVudFJlc2l6ZTogJHNjb3BlLmFsZXJ0T25SZXNpemUsXHJcbiAgICAgICAgZXZlbnRSZW5kZXI6ICRzY29wZS5ldmVudFJlbmRlclxyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICBcclxuICAgIC8qIGV2ZW50IHNvdXJjZXMgYXJyYXkqL1xyXG4gICAgJHNjb3BlLmV2ZW50U291cmNlcyA9IFskc2NvcGUuZXZlbnRzLCAkc2NvcGUuZXZlbnRTb3VyY2UsICRzY29wZS5ldmVudHNGXTtcclxuICAgICRzY29wZS5ldmVudFNvdXJjZXMyID0gWyRzY29wZS5jYWxFdmVudHNFeHQsICRzY29wZS5ldmVudHNGLCAkc2NvcGUuZXZlbnRzXTtcclxufV0pOyIsIkJvb2tpbmcuY29udHJvbGxlcignY29uZmlybWF0aW9uQ29udHJvbGxlcicsIFsnRGF0YVNlcnZpY2UnLCckbG9jYXRpb24nLCckc2NvcGUnLCdSZXNlcnZhdGlvblNlcnZpY2UnLCBmdW5jdGlvbihEYXRhU2VydmljZSwkbG9jYXRpb24sJHNjb3BlLFJlc2VydmF0aW9uU2VydmljZSl7XG4gICAkc2NvcGUuZm9ybURhdGE9RGF0YVNlcnZpY2UuZ2V0KCk7ICAgICBcbiAgICRzY29wZS5ndWVzdGluZm89IF8uZmluZFdoZXJlKCRzY29wZS5mb3JtRGF0YSwge2lkOlwiZ3Vlc3RpbmZvXCJ9KS5jdXN0b21lclByb2ZpbGU7XG4gICAkc2NvcGUuY2FyZGluZm89Xy5maW5kV2hlcmUoJHNjb3BlLmZvcm1EYXRhLCB7aWQ6XCJwYXltZW50aW5mb1wifSkucGF5bWVudERldGFpbHM7XG4gICAkc2NvcGUuYm9va2luZ2luZm89Xy5maW5kV2hlcmUoJHNjb3BlLmZvcm1EYXRhLCB7aWQ6XCJib29raW5naW5mb1wifSkuc2VsZWN0ZWRyb29tcztcbiAgICAkc2NvcGUuZ3Vlc3RTdW1tYXJ5PV8uZmluZFdoZXJlKCRzY29wZS5mb3JtRGF0YSwge2lkOlwiYm9va2luZ2luZm9cIn0pLnF1ZXJyeTtcbiAgICAkc2NvcGUucm9vbXNTdW1tYXJ5PV8uZmluZFdoZXJlKCRzY29wZS5mb3JtRGF0YSwge2lkOlwicm9vbWluZm9cIn0pLnN1bW1hcnk7XG4gICAkc2NvcGUuY29tcGFueV9pZD1fLmZpbmRXaGVyZSgkc2NvcGUuZm9ybURhdGEsIHtpZDpcImJvb2tpbmdpbmZvXCJ9KS5jb21wYW55aWQ7XG5cbiAgIFxuXG4gICAkc2NvcGUucHJvY2Vzc0Zvcm09ZnVuY3Rpb24oKXtcbiAgICB2YXIgZGF0YSA9e307XG4gICAgICAgIGRhdGEuZ3Vlc3RpbmZvPSRzY29wZS5ndWVzdGluZm87XG4gICAgICAgIGRhdGEuY2FyZGluZm89JHNjb3BlLmNhcmRpbmZvO1xuICAgICAgICBkYXRhLmJvb2tpbmdpbmZvPSRzY29wZS5ib29raW5naW5mbztcbiAgICAgICAgIGRhdGEuZ3Vlc3RTdW1tYXJ5PSRzY29wZS5ndWVzdFN1bW1hcnk7XG4gICAgICAgICBkYXRhLnJvb21TdW1tYXJ5PSRzY29wZS5yb29tc1N1bW1hcnk7XG4gICAgICAgICBkYXRhLmNvbXBhbnlfaWQ9JHNjb3BlLmNvbXBhbnlfaWQ7XG5cblxuICAgICBSZXNlcnZhdGlvblNlcnZpY2UuY3JlYXRlKGRhdGEpXG4gICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uIChyZXNwKSB7XG4gICAgICAgICAgICAgIC8vICBhbGVydChyZXNwLnN1Y2Nlc3MpO1xuICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwKTtcbiAgICAgICAgICAgICAgICAkc2NvcGUuZm9ybURhdGE9XCJcIjtcbiAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL3RoYW5rbm90ZS8nK3Jlc3Auc3VjY2Vzcyk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy9jbGVhciBkYXRhIHNlcnZpY2UgZGF0YVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5lcnJvcihmdW5jdGlvbiAocmVzcCkge1xuICAgICAgICAgICAgICAgIGFsZXJ0KFwiRXJycm9yIFwiK3Jlc3ApO1xuICAgICAgICAgICAgfSk7ICBcblxuICAgfTtcbiAgIFxuXG59XSk7IiwiQm9va2luZy5jb250cm9sbGVyKCdGb290ZXJDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpe1xufV0pO1xuXG4iLCJCb29raW5nLmNvbnRyb2xsZXIoJ2d1ZXN0Q29udHJvbGxlcicsIFsnRGF0YVNlcnZpY2UnLCckc3RhdGUnLCckc2NvcGUnLCBmdW5jdGlvbihEYXRhU2VydmljZSwkc3RhdGUsJHNjb3BlKXtcbiAgICRzY29wZS5mb3JtRGF0YT17fTtcblxuXG4gICAkc2NvcGUucGF5bWVudD1mdW5jdGlvbigpe1xuXG5cdCAgIFx0IHZhciBkYXRhPXt9O1xuXHQgICBcdCBkYXRhLmlkPSdndWVzdGluZm8nO1xuXHQgICBcdCBkYXRhLmN1c3RvbWVyUHJvZmlsZT0kc2NvcGUuZm9ybURhdGE7XG5cdCAgIFx0RGF0YVNlcnZpY2Uuc2F2ZShkYXRhKTtcblx0ICAgXHQkc3RhdGUuZ28oJ3BheW1lbnQnKTtcbiAgIH07XG5cbn1dKTsiLCJCb29raW5nLmNvbnRyb2xsZXIoJ0hlYWRlckNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSl7XG59XSk7XG5cbiIsIkJvb2tpbmcuY29udHJvbGxlcignTG9nb3V0Q29udHJvbGxlcicsIFsnJGxvY2F0aW9uJywgJ0xvZ2luU2VydmljZScsIGZ1bmN0aW9uKCRsb2NhdGlvbiwgTG9naW5TZXJ2aWNlKXtcbiAgTG9naW5TZXJ2aWNlLmxvZ291dCgpO1xuICAkbG9jYXRpb24ucGF0aCgnL2xvZ2luJyk7XG59XSk7XG5cblxuIiwiQm9va2luZy5jb250cm9sbGVyKCdwYXltZW50Q29udHJvbGxlcicsIFsnRGF0YVNlcnZpY2UnLCckc3RhdGUnLCckc2NvcGUnLCBmdW5jdGlvbihEYXRhU2VydmljZSwkc3RhdGUsJHNjb3BlKXtcbiAgICRzY29wZS5mb3JtRGF0YT17fTtcblxuXG4gICAkc2NvcGUuZ290b0NvbmZpcm09ZnVuY3Rpb24oKXtcblx0ICAgXHQgdmFyIGRhdGE9e307XG5cdCAgIFx0IGRhdGEuaWQ9J3BheW1lbnRpbmZvJztcblx0ICAgXHQgZGF0YS5wYXltZW50RGV0YWlscz0kc2NvcGUuZm9ybURhdGE7XG5cdCAgIFx0RGF0YVNlcnZpY2Uuc2F2ZShkYXRhKTtcblx0ICAgXHQkc3RhdGUuZ28oJ0NvbmZpcm1hdGlvbicpO1xuICAgfTtcblxufV0pOyIsIkJvb2tpbmcuY29udHJvbGxlcignUmVzQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKXtcbn1dKTtcblxuIiwiQm9va2luZy5jb250cm9sbGVyKCdSZXNlcnZlQ29udHJvbGxlcicsIFsnJHNjb3BlJywnJHN0YXRlUGFyYW1zJywnJHN0YXRlJywnUmVzZXJ2YXRpb25TZXJ2aWNlJywgJ0RhdGFTZXJ2aWNlJywnJGFuY2hvclNjcm9sbCcsJyRsb2NhdGlvbicsZnVuY3Rpb24oJHNjb3BlLCRzdGF0ZVBhcmFtcywkc3RhdGUsUmVzZXJ2YXRpb25TZXJ2aWNlLERhdGFTZXJ2aWNlLCRhbmNob3JTY3JvbGwsJGxvY2F0aW9uKXtcbiAgICRsb2NhdGlvbi5oYXNoKCd0b3AnKTtcblxuICAgICAgLy8gY2FsbCAkYW5jaG9yU2Nyb2xsKClcbiAgICAgICRhbmNob3JTY3JvbGwoKTtcblxuXHRcbiAgJHNjb3BlLmZvcm1EYXRhID0ge307XG4gJHNjb3BlLmZvcm1EYXRhLnJvb21EZXRhaWxzPWFuZ3VsYXIuZnJvbUpzb24oYXRvYigkc3RhdGVQYXJhbXMucm9vbWRldGFpbHMpKTtcbiAgLy9jb25zb2xlLmxvZygkc2NvcGUuZm9ybURhdGEucm9vbURldGFpbHMpO1xuXG4gICRzY29wZS5zdW1tYXJ5PXt9O1xuICAkc2NvcGUuc3VtbWFyeS5ub1Jvb21zPSRzY29wZS5mb3JtRGF0YS5yb29tRGV0YWlscy5zZWxlY3RlZHJvb21zLmxlbmd0aDtcbiAgJHNjb3BlLnN1bW1hcnkubm9HdWVzdD0gJHNjb3BlLmZvcm1EYXRhLnJvb21EZXRhaWxzLnF1ZXJyeS5hZHVsdHM7IFxuICAkc2NvcGUuc3VtbWFyeS5zdGFydGRhdGU9JHNjb3BlLmZvcm1EYXRhLnJvb21EZXRhaWxzLnF1ZXJyeS5jaGVja19pbjtcbiAgJHNjb3BlLnN1bW1hcnkuZW5kZGF0ZT0kc2NvcGUuZm9ybURhdGEucm9vbURldGFpbHMucXVlcnJ5LmNoZWNrX291dDtcblxuICAkc2NvcGUudG90YWxwcmljZT1mdW5jdGlvbigpe1xuICAgICAgICB2YXIgdHByaWNlPTA7XG4gICAgICAgIFxuXG4gICAgICAgZm9yICh2YXIgaT0wICA7aTwkc2NvcGUuc3VtbWFyeS5ub1Jvb21zO2krKyl7XG5cbiAgICAgICAgICAgdHByaWNlPXRwcmljZSskc2NvcGUuZm9ybURhdGEucm9vbURldGFpbHMuc2VsZWN0ZWRyb29tc1tpXS5yb29tLmJhc2VfcHJpY2U7XG4gICAgICAgfVxuICAgICAgICByZXR1cm4gdHByaWNlO1xuICAgICAgfTtcblxuXG5cbiRzY29wZS5zdW1tYXJ5LnRQcmljZT0gJHNjb3BlLnRvdGFscHJpY2UoKTsgXG5cbiAgICBcbiAgICAvLyBmdW5jdGlvbiB0byBwcm9jZXNzIHRoZSBmb3JtXG4gICAgJHNjb3BlLnByb2Nlc3NGb3JtID0gZnVuY3Rpb24oKSB7XG4gICAgICAgLy8gYWxlcnQoJ2F3ZXNvbWUhJyk7XG5cbiAgICAgICAgICBSZXNlcnZhdGlvblNlcnZpY2UuY3JlYXRlKCRzY29wZS5mb3JtRGF0YSlcbiAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBhbGVydChcImRhdGEgc2F2ZWQgUmVzZXJ2YXRpb24gSUQgOTg4OVwiKTtcbiAgICAgICAgICAgICAgICAkc2NvcGUuZm9ybURhdGE9XCJcIjtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuZXJyb3IoZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgYWxlcnQoXCJFcnJyb3IgXCIrZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICB9KTsgIFxuXG5cbiAgICB9O1xuXG5cbiAgICAkc2NvcGUucHJvY2VlZD1mdW5jdGlvbigpe1xuICAgICAgdmFyIGRhdGE9e307XG4gICAgICAgIGRhdGEuaWQ9J3Jvb21pbmZvJztcbiAgICAgICAgZGF0YS5yb29tZGV0YWlscz0kc2NvcGUuZm9ybURhdGE7XG4gICAgICAgIGRhdGEuc3VtbWFyeT0kc2NvcGUuc3VtbWFyeTtcbiAgICAgICAgIERhdGFTZXJ2aWNlLnNhdmUoZGF0YSk7XG4gICAgICAgICAgICRzdGF0ZS5nbygnZ3Vlc3RpbmZvJyk7XG4gICAgfTtcblxuICAgIFxufV0pOyIsIkJvb2tpbmcuY29udHJvbGxlcignUmVzZXJ2ZVBheW1lbnRDb250cm9sbGVyJywgWydSZXNlcnZhdGlvblNlcnZpY2UnLCBmdW5jdGlvbihSZXNlcnZhdGlvblNlcnZpY2Upe1xuXG59XSk7IiwiQm9va2luZy5jb250cm9sbGVyKCdib29raW5nQ29udHJvbGxlcicsIFsnUmVzZXJ2YXRpb25TZXJ2aWNlJywgZnVuY3Rpb24oUmVzZXJ2YXRpb25TZXJ2aWNlKXtcblxufV0pOyIsIlxuXG5Cb29raW5nLmNvbnRyb2xsZXIoJ3RoYW5rbm90ZUNvbnRyb2xsZXInLCBbJyRsb2NhdGlvbicsJyRzY29wZScsJyRzdGF0ZVBhcmFtcycgLGZ1bmN0aW9uKCRsb2NhdGlvbiwkc2NvcGUsJHN0YXRlUGFyYW1zKXtcbiAgICAkc2NvcGUucmVzZXJ2YXRpb25pZD0gJHN0YXRlUGFyYW1zLnJlc2VydmF0aW9uaWQ7XG5cblx0fV0pOyIsIkJvb2tpbmcuY29udHJvbGxlcignVXNlclByb2ZpbGVDb250cm9sbGVyJywgWydVc2Vyc1NlcnZpY2UnLCckc2NvcGUnLCckcm9vdFNjb3BlJyAsZnVuY3Rpb24oVXNlcnNTZXJ2aWNlLCRzY29wZSwkcm9vdFNjb3BlKXtcclxuXHJcblxyXG4gICAgVXNlcnNTZXJ2aWNlLmdldFVzZXIoZnVuY3Rpb24ocmVzdWx0cyl7XHJcblxyXG4gICAgXHRjb25zb2xlLmxvZyhyZXN1bHRzKTtcclxuICAgICAgICAgICRzY29wZS51c2VyZGV0YWlscz1yZXN1bHRzLnJlc3VsdDtcclxuICAgIH0pO1xyXG5cclxuIH1dKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=