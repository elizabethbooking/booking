var Booking;Booking=angular.module("Booking",["ngRoute"]);
Booking.factory("LoginService",["$http","$rootScope",function(o,e){return{auth:function(e,n){o.post("/api/login",e).success(function(o,e){n(o,e)}).error(function(){console.log("error")})},user:function(){var o="";return $cookies.get("user")&&(e.loggedIn=o=JSON.parse($cookies.get("user"))),o},logout:function(){e.loggedIn=null,$cookies.remove("user")}}}]);
Booking.directive("login",[function(){return{restrict:"E",scope:{},transclude:!0,templateUrl:"/templates/directives/login.html",controller:"LoginController"}}]);
Booking.controller("LoginController",["$rootScope","$scope","$window","LoginService",function(o,n,e,t){n.submit=function(){t.auth(n.user,function(n,t){200===t?(e.sessionStorage.token=n.token,o.loggedIn=n,e.location.href="/Admin.html"):delete e.sessionStorage.token})}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZ2luLmpzIl0sIm5hbWVzIjpbIkJvb2tpbmciLCJhbmd1bGFyIiwibW9kdWxlIiwiZmFjdG9yeSIsIiRodHRwIiwiJHJvb3RTY29wZSIsImF1dGgiLCJjcmVkZW50aWFscyIsImNhbGxiYWNrIiwicG9zdCIsInN1Y2Nlc3MiLCJkYXRhIiwic3RhdHVzIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwidXNlciIsIiRjb29raWVzIiwiZ2V0IiwibG9nZ2VkSW4iLCJKU09OIiwicGFyc2UiLCJsb2dvdXQiLCJyZW1vdmUiLCJkaXJlY3RpdmUiLCJyZXN0cmljdCIsInNjb3BlIiwidHJhbnNjbHVkZSIsInRlbXBsYXRlVXJsIiwiY29udHJvbGxlciIsIiRzY29wZSIsIiR3aW5kb3ciLCJMb2dpblNlcnZpY2UiLCJzdWJtaXQiLCJzZXNzaW9uU3RvcmFnZSIsInRva2VuIiwibG9jYXRpb24iLCJocmVmIl0sIm1hcHBpbmdzIjoiQUFBQSxHQUFJQSxRQUVKQSxTQUFVQyxRQUFRQyxPQUFPLFdBQVk7QUFGckNGLFFBQVFHLFFBQVEsZ0JBQWlCLFFBQVUsYUFBYyxTQUFTQyxFQUFPQyxHQUN2RSxPQUNFQyxLQUFNLFNBQVNDLEVBQWFDLEdBQzFCSixFQUFNSyxLQUFLLGFBQWNGLEdBQ3RCRyxRQUFRLFNBQVNDLEVBQU1DLEdBQ3RCSixFQUFTRyxFQUFNQyxLQUVoQkMsTUFBTSxXQUNMQyxRQUFRQyxJQUFJLFlBSWxCQyxLQUFNLFdBQ0osR0FBSUEsR0FBTyxFQUlYLE9BSElDLFVBQVNDLElBQUksVUFDZmIsRUFBV2MsU0FBV0gsRUFBT0ksS0FBS0MsTUFBTUosU0FBU0MsSUFBSSxVQUVoREYsR0FHVE0sT0FBUSxXQUNOakIsRUFBV2MsU0FBVyxLQUN0QkYsU0FBU00sT0FBTztBQXRCdEJ2QixRQUFRd0IsVUFBVSxTQUFVLFdBQzFCLE9BQ0VDLFNBQWMsSUFDZEMsU0FDQUMsWUFBYyxFQUNkQyxZQUFjLG1DQUNkQyxXQUFjO0FBTmxCN0IsUUFBUTZCLFdBQVcsbUJBQW9CLGFBQWMsU0FBVSxVQUFXLGVBQ3hFLFNBQVN4QixFQUFZeUIsRUFBUUMsRUFBU0MsR0FDcENGLEVBQU9HLE9BQVMsV0FDZEQsRUFBYTFCLEtBQUt3QixFQUFPZCxLQUFNLFNBQVNMLEVBQU1DLEdBQzdCLE1BQVhBLEdBQ0RtQixFQUFRRyxlQUFlQyxNQUFReEIsRUFBS3dCLE1BQ3JDOUIsRUFBV2MsU0FBV1IsRUFDdEJvQixFQUFRSyxTQUFTQyxLQUFLLHFCQUdiTixHQUFRRyxlQUFlQyIsImZpbGUiOiJsb2dpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIkJvb2tpbmcuY29udHJvbGxlcignTG9naW5Db250cm9sbGVyJywgWyckcm9vdFNjb3BlJywgJyRzY29wZScsICckd2luZG93JywgJ0xvZ2luU2VydmljZScsXG4gIGZ1bmN0aW9uKCRyb290U2NvcGUsICRzY29wZSwgJHdpbmRvdywgTG9naW5TZXJ2aWNlKXtcbiAgICAkc2NvcGUuc3VibWl0ID0gZnVuY3Rpb24oKXtcbiAgICAgIExvZ2luU2VydmljZS5hdXRoKCRzY29wZS51c2VyLCBmdW5jdGlvbihkYXRhLCBzdGF0dXMpe1xuICAgICAgICBpZiAoc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgICAgJHdpbmRvdy5zZXNzaW9uU3RvcmFnZS50b2tlbiA9IGRhdGEudG9rZW47XG4gICAgICAgICAgJHJvb3RTY29wZS5sb2dnZWRJbiA9IGRhdGE7XG4gICAgICAgICAgJHdpbmRvdy5sb2NhdGlvbi5ocmVmPScvQWRtaW4uaHRtbCc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkZWxldGUgJHdpbmRvdy5zZXNzaW9uU3RvcmFnZS50b2tlbjtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcblxuICB9XVxuKTtcblxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9