var Booking;Booking=angular.module("Booking",["ngRoute","ngCookies"]),Booking.config(["$routeProvider","$locationProvider",function(o,e){o.when("/",{templateUrl:"/templates/admin/index.html",controller:"HomeController"}).when("/login",{templateUrl:"/templates/admin/login.html",controller:"LoginController"}).when("/logout",{templateUrl:"templates/admin/logout.html",controller:"LogoutController"}).otherwise({redirectTo:"/"})}]),Booking.run(["$rootScope","$location","LoginService",function(o,e,l){o.$on("$routeChangeStart",function(n,t,r){null===l.user()&&(o.loggedIn=null,"/templates/admin/login.html"===t.templateUrl||e.path("/login"))})}]);
Booking.factory("CompanyService",["$http",function(n){return{data:function(t){n.get("/api/company").success(function(n,c){t(n)})}}}]);
Booking.factory("CustomerService",["$http",function(t){return{data:function(c){t.get("/api/customer").success(function(t,n){c(t)})}}}]);
Booking.factory("InventoryService",["$http",function(t){var n=10001;return{results:[],data:function(n){t.get("/api/inventory").success(function(t,i){n(t)})},query:function(i,s){t.post("/api/availability/"+n,i).success(function(t,n){this.results=t,s(t)}.bind(this))}}}]);
Booking.factory("LoginService",["$http","$cookies","$rootScope",function(o,n,e){return{auth:function(e,r){o.post("/api/login",e).success(function(o,e){n.put("user",JSON.stringify(o)),r(o,e)}).error(function(){console.log("error")})},user:function(){var o=null;return n.get("user")&&(e.loggedIn=o=JSON.parse(n.get("user"))),o},logout:function(){e.loggedIn=null,n.remove("user")}}}]);
Booking.factory("PoliciesService",["$http",function(i){return{data:function(c){i.get("/api/policies").success(function(i,t){c(i)})}}}]);
Booking.factory("ReservationService",["$http",function(t){return{data:function(n){t.get("/api/reservation").success(function(t,e){n(t)})}}}]);
Booking.factory("RoleService",["$http",function(t){return{data:function(n){t.get("/api/role").success(function(t,o){n(t)})}}}]);
Booking.factory("UsersService",["$http",function(t){return{data:function(n){t.get("/api/users").success(function(t,c){n(t)})}}}]);
Booking.directive("availability",["$rootScope","dateFilter",function(t,e){return{restrict:"E",templateUrl:"/templates/directives/availability.html",controller:["$scope","ReservationService",function(t,e){t.submit=function(){e.query(t.query,function(t){})}}]}}]);
Booking.directive("footerNav",[function(){return{restrict:"E",scope:{},transclude:!0,templateUrl:"/templates/directives/footer.html",controller:"FooterController"}}]);
Booking.directive("home",[function(){return{restrict:"E",templateUrl:"/templates/home.html"}}]);
Booking.directive("inventory",[function(){return{restrict:"E",templateUrl:"/templates/inventory.html"}}]);
Booking.directive("leftNav",[function(){return{restrict:"A",scope:{},transclude:!0,templateUrl:"/templates/directives/left_nav.html",controller:"LeftNavController"}}]);
Booking.directive("login",[function(){return{restrict:"E",scope:{},transclude:!0,templateUrl:"/templates/directives/login.html",controller:"LoginController"}}]);
Booking.directive("policies",[function(){return{restrict:"E",scope:{},transclude:!0,templateUrl:"/templates/directives/policies.html",controller:"PoliciesController"}}]);
Booking.directive("query",["$rootScope","dateFilter",function(e,t){return{restrict:"E",templateUrl:"/templates/directives/query.html",controller:["$scope","InventoryService",function(t,r){t.max_adults=[1,2,3],t.max_childs=[0,1,2,3],t.query={adults:1,childs:0,check_in:(new moment).toDate(),check_out:(new moment).add(3,"days").toDate()},t.submit=function(){r.query(t.query,function(t){e.$broadcast("query:results")})}}]}}]);
Booking.directive("resNav",[function(){return{restrict:"E",scope:{},transclude:!0,templateUrl:"/templates/directives/res-nav.html",controller:"ResController"}}]);
Booking.directive("topNav",[function(){return{restrict:"E",scope:{},transclude:!0,templateUrl:"/templates/directives/header.html",controller:"HeaderController"}}]);
Booking.directive("user_profile",[function(){return{restrict:"E",templateUrl:"/templates/user_profile.html"}}]);
Booking.directive("users",[function(){return{restrict:"E",templateUrl:"/templates/users.html"}}]);
Booking.controller("CustomerController",["CustomerService",function(o){this.customer=null,this.data="Booking Customer";var t=this;CustomerService.data(function(o){t.customer=o,console.log(o)})}]);
Booking.controller("FooterController",["$scope",function(o){}]);
Booking.controller("HeaderController",["$scope",function(o){}]);
Booking.controller("HomeController",["CompanyService",function(o){this.company=null,this.data="Booking Home";var n=this;o.data(function(o){n.company=o,console.log(o)})}]);
Booking.controller("InventoryController",["$rootScope","InventoryService",function(t,o){this.results=o.results,t.$on("query:results",function(){this.results=o.results}.bind(this))}]);
Booking.controller("LeftNavController",["$scope",function(o){}]);
Booking.controller("LoginController",["$rootScope","$scope","$location","LoginService",function(o,n,t,i){n.submit=function(){i.auth(n.user,function(n,i){200===i&&(o.loggedIn=n,t.path("/"))})}}]);
Booking.controller("LogoutController",["$location","LoginService",function(o,n){n.logout(),o.path("/login")}]);
Booking.controller("PoliciesController",["$rootScope","$scope","$location",function(o,i,c){i.policies=function(o){return policies.show=!0}}]);
Booking.controller("ResController",["$scope",function(o){}]);
Booking.controller("ReservationController",["ReservationService",function(o){this.reservation=null,this.data="Booking Rerservation";var e=this;RoleService.data(function(o){e.reservation=o,console.log(o)})}]);
Booking.controller("RoleController",["RoleService",function(o){this.role=null,this.data="Booking User Role";var l=this;o.data(function(o){l.role=o,console.log(o)})}]);
Booking.controller("UsersController",["UsersService",function(s){this.users=null,this.data="Booking Users";var o=this;s.data(function(s){o.users=s,console.log(s)})}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkbWluLmpzIiwiY29tcGFueS5qcyIsImN1c3RvbWVyLmpzIiwiaW52ZW50b3J5LmpzIiwibG9naW4uanMiLCJwb2xpY2llcy5qcyIsInJlc2VydmF0aW9uLmpzIiwicm9sZS5qcyIsInVzZXJzLmpzIiwiYXZhaWxhYmlsaXR5LmpzIiwiZm9vdGVyX25hdi5qcyIsImhvbWUuanMiLCJsZWZ0X25hdi5qcyIsInF1ZXJ5LmpzIiwicmV6X25hdi5qcyIsInRvcF9uYXYuanMiLCJ1c2VyX3Byb2ZpbGUuanMiLCJmb290ZXIuanMiLCJoZWFkZXIuanMiLCJsb2dvdXQuanMiLCJyZXMtaGVhZGVyLmpzIl0sIm5hbWVzIjpbIkJvb2tpbmciLCJhbmd1bGFyIiwibW9kdWxlIiwiY29uZmlnIiwiJHJvdXRlUHJvdmlkZXIiLCIkbG9jYXRpb25Qcm92aWRlciIsIndoZW4iLCJ0ZW1wbGF0ZVVybCIsImNvbnRyb2xsZXIiLCJvdGhlcndpc2UiLCJyZWRpcmVjdFRvIiwicnVuIiwiJHJvb3RTY29wZSIsIiRsb2NhdGlvbiIsIkxvZ2luU2VydmljZSIsIiRvbiIsImV2ZW50IiwibmV4dCIsImN1cnJlbnQiLCJ1c2VyIiwibG9nZ2VkSW4iLCJwYXRoIiwiZmFjdG9yeSIsIiRodHRwIiwiZGF0YSIsImNhbGxiYWNrIiwiZ2V0Iiwic3VjY2VzcyIsInN0YXR1cyIsImNvbXBhbnlfaWQiLCJyZXN1bHRzIiwicXVlcnkiLCJwb3N0IiwidGhpcyIsImJpbmQiLCIkY29va2llcyIsImF1dGgiLCJjcmVkZW50aWFscyIsInB1dCIsIkpTT04iLCJzdHJpbmdpZnkiLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJwYXJzZSIsImxvZ291dCIsInJlbW92ZSIsImRpcmVjdGl2ZSIsImRhdGVGaWx0ZXIiLCJyZXN0cmljdCIsIiRzY29wZSIsIlJlc2VydmF0aW9uU2VydmljZSIsInN1Ym1pdCIsInNjb3BlIiwidHJhbnNjbHVkZSIsIkludmVudG9yeVNlcnZpY2UiLCJtYXhfYWR1bHRzIiwibWF4X2NoaWxkcyIsImFkdWx0cyIsImNoaWxkcyIsImNoZWNrX2luIiwibW9tZW50IiwidG9EYXRlIiwiY2hlY2tfb3V0IiwiYWRkIiwiJGJyb2FkY2FzdCIsIlVzZXJzU2VydmljZSIsImN1c3RvbWVyIiwiX3NlbGYiLCJDdXN0b21lclNlcnZpY2UiLCJDb21wYW55U2VydmljZSIsImNvbXBhbnkiLCJwb2xpY2llcyIsInNob3ciLCJyZXNlcnZhdGlvbiIsIlJvbGVTZXJ2aWNlIiwicm9sZSIsInVzZXJzIl0sIm1hcHBpbmdzIjoiQUFBQSxHQUFJQSxRQUVKQSxTQUFVQyxRQUFRQyxPQUFPLFdBQVksVUFBVyxjQUVoREYsUUFBUUcsUUFBUSxpQkFBa0Isb0JBQXFCLFNBQVNDLEVBQWdCQyxHQUM5RUQsRUFDR0UsS0FBSyxLQUNKQyxZQUFjLDhCQUNkQyxXQUFjLG1CQUVmRixLQUFLLFVBQ0pDLFlBQWMsOEJBQ2RDLFdBQWMsb0JBRWZGLEtBQUssV0FDSkMsWUFBYyw4QkFDZEMsV0FBYyxxQkFFZkMsV0FBWUMsV0FBYSxTQUs5QlYsUUFBUVcsS0FBSyxhQUFjLFlBQWEsZUFBZ0IsU0FBU0MsRUFBWUMsRUFBV0MsR0FDdEZGLEVBQVdHLElBQUksb0JBQXFCLFNBQVNDLEVBQU9DLEVBQU1DLEdBQzVCLE9BQXhCSixFQUFhSyxTQUNmUCxFQUFXUSxTQUFXLEtBQ0ksZ0NBQXJCSCxFQUFLVixhQUVSTSxFQUFVUSxLQUFLO0FDN0J2QnJCLFFBQVFzQixRQUFRLGtCQUFtQixRQUFTLFNBQVNDLEdBQ25ELE9BQ0VDLEtBQU8sU0FBU0MsR0FDZEYsRUFBTUcsSUFBSSxnQkFDUEMsUUFBUSxTQUFTSCxFQUFNSSxHQUN0QkgsRUFBU0Q7QUNMbkJ4QixRQUFRc0IsUUFBUSxtQkFBb0IsUUFBUyxTQUFTQyxHQUNwRCxPQUNFQyxLQUFPLFNBQVNDLEdBQ2RGLEVBQU1HLElBQUksaUJBQ1BDLFFBQVEsU0FBU0gsRUFBTUksR0FDdEJILEVBQVNEO0FDTG5CeEIsUUFBUXNCLFFBQVEsb0JBQXFCLFFBQVMsU0FBU0MsR0FD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QU9wRCxFQUNia0IsUUFBUUMsSUFBSW5CO0FDUGhCeEIsUUFBUVEsV0FBVyxtQkFBb0IsZUFBZ0IsU0FBUzBELEdBQzlEakMsS0FBSzRDLE1BQVEsS0FDYjVDLEtBQUtULEtBQU8sZUFDWixJQUFJNEMsR0FBUW5DLElBRVppQyxHQUFhMUMsS0FBSyxTQUFTQSxHQUN6QjRDLEVBQU1TLE1BQVFyRCxFQUNka0IsUUFBUUMsSUFBSW5CIiwiZmlsZSI6ImFkbWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIEJvb2tpbmc7XG5cbkJvb2tpbmcgPSBhbmd1bGFyLm1vZHVsZSgnQm9va2luZycsIFsnbmdSb3V0ZScsICduZ0Nvb2tpZXMnXSk7XG5cbkJvb2tpbmcuY29uZmlnKFsnJHJvdXRlUHJvdmlkZXInLCAnJGxvY2F0aW9uUHJvdmlkZXInLCBmdW5jdGlvbigkcm91dGVQcm92aWRlciwgJGxvY2F0aW9uUHJvdmlkZXIpe1xuICAkcm91dGVQcm92aWRlclxuICAgIC53aGVuKCcvJywge1xuICAgICAgdGVtcGxhdGVVcmwgOiAnL3RlbXBsYXRlcy9hZG1pbi9pbmRleC5odG1sJyxcbiAgICAgIGNvbnRyb2xsZXIgIDogJ0hvbWVDb250cm9sbGVyJ1xuICAgIH0pXG4gICAgLndoZW4oJy9sb2dpbicsIHtcbiAgICAgIHRlbXBsYXRlVXJsIDogJy90ZW1wbGF0ZXMvYWRtaW4vbG9naW4uaHRtbCcsXG4gICAgICBjb250cm9sbGVyICA6ICdMb2dpbkNvbnRyb2xsZXInXG4gICAgfSlcbiAgICAud2hlbignL2xvZ291dCcsIHtcbiAgICAgIHRlbXBsYXRlVXJsIDogJ3RlbXBsYXRlcy9hZG1pbi9sb2dvdXQuaHRtbCcsXG4gICAgICBjb250cm9sbGVyICA6ICdMb2dvdXRDb250cm9sbGVyJ1xuICAgIH0pXG4gICAgLm90aGVyd2lzZSh7IHJlZGlyZWN0VG8gOiAnLycgfSk7XG5cbiAgLy8kbG9jYXRpb25Qcm92aWRlci5odG1sNU1vZGUodHJ1ZSk7XG59XSk7XG5cbkJvb2tpbmcucnVuKFsnJHJvb3RTY29wZScsICckbG9jYXRpb24nLCAnTG9naW5TZXJ2aWNlJywgZnVuY3Rpb24oJHJvb3RTY29wZSwgJGxvY2F0aW9uLCBMb2dpblNlcnZpY2Upe1xuICAkcm9vdFNjb3BlLiRvbihcIiRyb3V0ZUNoYW5nZVN0YXJ0XCIsIGZ1bmN0aW9uKGV2ZW50LCBuZXh0LCBjdXJyZW50KXtcbiAgICBpZiAoTG9naW5TZXJ2aWNlLnVzZXIoKSA9PT0gbnVsbCkge1xuICAgICAgJHJvb3RTY29wZS5sb2dnZWRJbiA9IG51bGw7XG4gICAgICBpZiAoIG5leHQudGVtcGxhdGVVcmwgPT09ICcvdGVtcGxhdGVzL2FkbWluL2xvZ2luLmh0bWwnKSB7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkbG9jYXRpb24ucGF0aCgnL2xvZ2luJyk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn1dKTtcblxuIiwiQm9va2luZy5mYWN0b3J5KCdDb21wYW55U2VydmljZScsIFsnJGh0dHAnLCBmdW5jdGlvbigkaHR0cCl7XG4gIHJldHVybiB7XG4gICAgZGF0YSA6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgICAkaHR0cC5nZXQoJy9hcGkvY29tcGFueScpXG4gICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEsIHN0YXR1cyl7XG4gICAgICAgICAgY2FsbGJhY2soZGF0YSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxufV0pO1xuIiwiQm9va2luZy5jb250cm9sbGVyKCdDdXN0b21lckNvbnRyb2xsZXInLCBbJ0N1c3RvbWVyU2VydmljZScsIGZ1bmN0aW9uKFVzZXJzU2VydmljZSl7XG4gIHRoaXMuY3VzdG9tZXIgPSBudWxsO1xuICB0aGlzLmRhdGEgPSAnQm9va2luZyBDdXN0b21lcic7XG4gIHZhciBfc2VsZiA9IHRoaXM7XG5cbiAgQ3VzdG9tZXJTZXJ2aWNlLmRhdGEoZnVuY3Rpb24oZGF0YSl7XG4gICAgX3NlbGYuY3VzdG9tZXIgPSBkYXRhO1xuICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICB9KTtcbn1dKTsiLCJCb29raW5nLmNvbnRyb2xsZXIoJ0ludmVudG9yeUNvbnRyb2xsZXInLCBbJyRyb290U2NvcGUnLCAnSW52ZW50b3J5U2VydmljZScsIGZ1bmN0aW9uKCRyb290U2NvcGUsIEludmVudG9yeVNlcnZpY2Upe1xuICB0aGlzLnJlc3VsdHMgPSBJbnZlbnRvcnlTZXJ2aWNlLnJlc3VsdHM7XG5cbiAgJHJvb3RTY29wZS4kb24oJ3F1ZXJ5OnJlc3VsdHMnLCBmdW5jdGlvbigpe1xuICAgIHRoaXMucmVzdWx0cyA9IEludmVudG9yeVNlcnZpY2UucmVzdWx0cztcbiAgfS5iaW5kKHRoaXMpKTtcbn1dKTtcbiIsIkJvb2tpbmcuY29udHJvbGxlcignTG9naW5Db250cm9sbGVyJywgWyckcm9vdFNjb3BlJywgJyRzY29wZScsICckbG9jYXRpb24nLCAnTG9naW5TZXJ2aWNlJyxcbiAgZnVuY3Rpb24oJHJvb3RTY29wZSwgJHNjb3BlLCAkbG9jYXRpb24sIExvZ2luU2VydmljZSl7XG4gICAgJHNjb3BlLnN1Ym1pdCA9IGZ1bmN0aW9uKCl7XG4gICAgICBMb2dpblNlcnZpY2UuYXV0aCgkc2NvcGUudXNlciwgZnVuY3Rpb24oZGF0YSwgc3RhdHVzKXtcbiAgICAgICAgaWYgKHN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgJHJvb3RTY29wZS5sb2dnZWRJbiA9IGRhdGE7XG4gICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy8nKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcblxuICB9XVxuKTtcblxuIiwiQm9va2luZy5jb250cm9sbGVyKCdQb2xpY2llc0NvbnRyb2xsZXInLCBbJyRyb290U2NvcGUnLCAnJHNjb3BlJywgJyRsb2NhdGlvbicsIGZ1bmN0aW9uKCRyb290U2NvcGUsICRzY29wZSwgJGxvY2F0aW9uKXtcbiAgICAkc2NvcGUucG9saWNpZXMgPSBmdW5jdGlvbihzaG93KSB7XG4gICAgICByZXR1cm4gcG9saWNpZXMuc2hvdyA9IHRydWU7ICBcbiAgICB9O1xuICB9XG5dKTtcblxuIiwiQm9va2luZy5jb250cm9sbGVyKCdSZXNlcnZhdGlvbkNvbnRyb2xsZXInLCBbJ1Jlc2VydmF0aW9uU2VydmljZScsIGZ1bmN0aW9uKFJlc2VydmF0aW9uU2VydmljZSl7XG4gIHRoaXMucmVzZXJ2YXRpb24gPSBudWxsO1xuICB0aGlzLmRhdGEgPSAnQm9va2luZyBSZXJzZXJ2YXRpb24nO1xuICB2YXIgX3NlbGYgPSB0aGlzO1xuXG4gIFJvbGVTZXJ2aWNlLmRhdGEoZnVuY3Rpb24oZGF0YSl7XG4gICAgX3NlbGYucmVzZXJ2YXRpb24gPSBkYXRhO1xuICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICB9KTtcbn1dKTsiLCJCb29raW5nLmNvbnRyb2xsZXIoJ1JvbGVDb250cm9sbGVyJywgWydSb2xlU2VydmljZScsIGZ1bmN0aW9uKFJvbGVTZXJ2aWNlKXtcbiAgdGhpcy5yb2xlID0gbnVsbDtcbiAgdGhpcy5kYXRhID0gJ0Jvb2tpbmcgVXNlciBSb2xlJztcbiAgdmFyIF9zZWxmID0gdGhpcztcblxuICBSb2xlU2VydmljZS5kYXRhKGZ1bmN0aW9uKGRhdGEpe1xuICAgIF9zZWxmLnJvbGUgPSBkYXRhO1xuICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICB9KTtcbn1dKTsiLCJCb29raW5nLmNvbnRyb2xsZXIoJ1VzZXJzQ29udHJvbGxlcicsIFsnVXNlcnNTZXJ2aWNlJywgZnVuY3Rpb24oVXNlcnNTZXJ2aWNlKXtcbiAgdGhpcy51c2VycyA9IG51bGw7XG4gIHRoaXMuZGF0YSA9ICdCb29raW5nIFVzZXJzJztcbiAgdmFyIF9zZWxmID0gdGhpcztcblxuICBVc2Vyc1NlcnZpY2UuZGF0YShmdW5jdGlvbihkYXRhKXtcbiAgICBfc2VsZi51c2VycyA9IGRhdGE7XG4gICAgY29uc29sZS5sb2coZGF0YSk7XG4gIH0pO1xufV0pOyIsIkJvb2tpbmcuZGlyZWN0aXZlKCdhdmFpbGFiaWxpdHknLCBbJyRyb290U2NvcGUnLCAnZGF0ZUZpbHRlcicsIGZ1bmN0aW9uKCRyb290U2NvcGUsIGRhdGVGaWx0ZXIpe1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0ICAgIDogJ0UnLFxuICAgIHRlbXBsYXRlVXJsIDogJy90ZW1wbGF0ZXMvZGlyZWN0aXZlcy9hdmFpbGFiaWxpdHkuaHRtbCcsXG4gICAgY29udHJvbGxlciAgOiBbJyRzY29wZScsICdSZXNlcnZhdGlvblNlcnZpY2UnLCBmdW5jdGlvbigkc2NvcGUsIFJlc2VydmF0aW9uU2VydmljZSl7XG4gICAgIFxuICAgICAgJHNjb3BlLnN1Ym1pdCA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICBSZXNlcnZhdGlvblNlcnZpY2UucXVlcnkoJHNjb3BlLnF1ZXJ5LCBmdW5jdGlvbihyZXN1bHRzKXtcbiAgICAgICAgICBcbiAgICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1dXG4gIH07XG59XSk7IiwiQm9va2luZy5kaXJlY3RpdmUoJ2Zvb3Rlck5hdicsIFtmdW5jdGlvbigpe1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0ICAgIDogJ0UnLFxuICAgIHNjb3BlICAgICAgIDoge30sXG4gICAgdHJhbnNjbHVkZSAgOiB0cnVlLFxuICAgIHRlbXBsYXRlVXJsIDogJy90ZW1wbGF0ZXMvZGlyZWN0aXZlcy9mb290ZXIuaHRtbCcsXG4gICAgY29udHJvbGxlciAgOiAnRm9vdGVyQ29udHJvbGxlcidcbiAgfTtcbn1dKTtcblxuIiwiQm9va2luZy5jb250cm9sbGVyKCdIb21lQ29udHJvbGxlcicsIFsnQ29tcGFueVNlcnZpY2UnLCBmdW5jdGlvbihDb21wYW55U2VydmljZSl7XG4gIHRoaXMuY29tcGFueSA9IG51bGw7XG4gIHRoaXMuZGF0YSA9ICdCb29raW5nIEhvbWUnO1xuICB2YXIgX3NlbGYgPSB0aGlzO1xuXG4gIENvbXBhbnlTZXJ2aWNlLmRhdGEoZnVuY3Rpb24oZGF0YSl7XG4gICAgX3NlbGYuY29tcGFueSA9IGRhdGE7XG4gICAgY29uc29sZS5sb2coZGF0YSk7XG4gIH0pO1xufV0pO1xuIiwiQm9va2luZy5jb250cm9sbGVyKCdMZWZ0TmF2Q29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKXtcbn1dKTtcblxuIiwiQm9va2luZy5kaXJlY3RpdmUoJ3F1ZXJ5JywgWyckcm9vdFNjb3BlJywgJ2RhdGVGaWx0ZXInLCBmdW5jdGlvbigkcm9vdFNjb3BlLCBkYXRlRmlsdGVyKXtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdCAgICA6ICdFJyxcbiAgICB0ZW1wbGF0ZVVybCA6ICcvdGVtcGxhdGVzL2RpcmVjdGl2ZXMvcXVlcnkuaHRtbCcsXG4gICAgY29udHJvbGxlciAgOiBbJyRzY29wZScsICdJbnZlbnRvcnlTZXJ2aWNlJywgZnVuY3Rpb24oJHNjb3BlLCBJbnZlbnRvcnlTZXJ2aWNlKXtcbiAgICAgICRzY29wZS5tYXhfYWR1bHRzID0gWzEsMiwzXTtcbiAgICAgICRzY29wZS5tYXhfY2hpbGRzID0gWzAsMSwyLDNdO1xuICAgICAgJHNjb3BlLnF1ZXJ5ID0ge1xuICAgICAgICBhZHVsdHM6IDEsXG4gICAgICAgIGNoaWxkczogMCxcbiAgICAgICAgY2hlY2tfaW46IG5ldyBtb21lbnQoKS50b0RhdGUoKSxcbiAgICAgICAgY2hlY2tfb3V0OiBuZXcgbW9tZW50KCkuYWRkKDMsICdkYXlzJykudG9EYXRlKClcbiAgICAgIH07XG5cbiAgICAgICRzY29wZS5zdWJtaXQgPSBmdW5jdGlvbigpe1xuICAgICAgICBJbnZlbnRvcnlTZXJ2aWNlLnF1ZXJ5KCRzY29wZS5xdWVyeSwgZnVuY3Rpb24ocmVzdWx0cyl7XG4gICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCdxdWVyeTpyZXN1bHRzJyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1dXG4gIH07XG59XSk7XG5cbiIsIkJvb2tpbmcuZGlyZWN0aXZlKCdyZXNOYXYnLCBbZnVuY3Rpb24oKXtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdCAgICA6ICdFJyxcbiAgICBzY29wZSAgICAgICA6IHt9LFxuICAgIHRyYW5zY2x1ZGUgIDogdHJ1ZSxcbiAgICB0ZW1wbGF0ZVVybCA6ICcvdGVtcGxhdGVzL2RpcmVjdGl2ZXMvcmVzLW5hdi5odG1sJyxcbiAgICBjb250cm9sbGVyICA6ICdSZXNDb250cm9sbGVyJ1xuICB9O1xufV0pO1xuXG4iLCJCb29raW5nLmRpcmVjdGl2ZSgndG9wTmF2JywgW2Z1bmN0aW9uKCl7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3QgICAgOiAnRScsXG4gICAgc2NvcGUgICAgICAgOiB7fSxcbiAgICB0cmFuc2NsdWRlICA6IHRydWUsXG4gICAgdGVtcGxhdGVVcmwgOiAnL3RlbXBsYXRlcy9kaXJlY3RpdmVzL2hlYWRlci5odG1sJyxcbiAgICBjb250cm9sbGVyICA6ICdIZWFkZXJDb250cm9sbGVyJ1xuICB9O1xufV0pO1xuXG4iLCJCb29raW5nLmRpcmVjdGl2ZSgndXNlcl9wcm9maWxlJywgW2Z1bmN0aW9uKCl7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3QgICAgOiAnRScsXG4gICAgdGVtcGxhdGVVcmwgOiAnL3RlbXBsYXRlcy91c2VyX3Byb2ZpbGUuaHRtbCdcbiAgfTtcbn1dKTtcbiIsIkJvb2tpbmcuY29udHJvbGxlcignRm9vdGVyQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKXtcbn1dKTtcblxuIiwiQm9va2luZy5jb250cm9sbGVyKCdIZWFkZXJDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpe1xufV0pO1xuXG4iLCJCb29raW5nLmNvbnRyb2xsZXIoJ0xvZ291dENvbnRyb2xsZXInLCBbJyRsb2NhdGlvbicsICdMb2dpblNlcnZpY2UnLCBmdW5jdGlvbigkbG9jYXRpb24sIExvZ2luU2VydmljZSl7XG4gIExvZ2luU2VydmljZS5sb2dvdXQoKTtcbiAgJGxvY2F0aW9uLnBhdGgoJy9sb2dpbicpO1xufV0pO1xuXG5cbiIsIkJvb2tpbmcuY29udHJvbGxlcignUmVzQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKXtcbn1dKTtcblxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9