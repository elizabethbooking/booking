var Booking;Booking=angular.module("Booking",["ngRoute","ngCookies"]),Booking.config(["$routeProvider","$locationProvider",function(o,e){o.when("/",{templateUrl:"/templates/views/index.html",controller:"HomeController"}).otherwise({redirectTo:"/"})}]);
Booking.factory("CompanyService",["$http",function(n){return{data:function(t){n.get("/api/company").success(function(n,c){t(n)})}}}]);
Booking.factory("CustomerService",["$http",function(t){return{data:function(c){t.get("/api/customer").success(function(t,n){c(t)})}}}]);
Booking.factory("InventoryService",["$http",function(t){var n=10001;return{results:[],data:function(n){t.get("/api/inventory").success(function(t,i){n(t)})},query:function(i,s){t.post("/api/availability/"+n,i).success(function(t,n){this.results=t,s(t)}.bind(this))}}}]);
Booking.factory("LoginService",["$http","$cookies","$rootScope",function(o,n,e){return{auth:function(e,r){o.post("/api/login",e).success(function(o,e){n.put("user",JSON.stringify(o)),r(o,e)}).error(function(){console.log("error")})},user:function(){var o=null;return n.get("user")&&(e.loggedIn=o=JSON.parse(n.get("user"))),o},logout:function(){e.loggedIn=null,n.remove("user")}}}]);
Booking.factory("PoliciesService",["$http",function(i){return{data:function(c){i.get("/api/policies").success(function(i,t){c(i)})}}}]);
Booking.factory("ReservationService",["$http",function(t){return{data:function(n){t.get("/api/reservation").success(function(t,e){n(t)})}}}]);
Booking.factory("RoleService",["$http",function(t){return{data:function(n){t.get("/api/role").success(function(t,o){n(t)})}}}]);
Booking.factory("UsersService",["$http",function(t){return{data:function(n){t.get("/api/users").success(function(t,c){n(t)})}}}]);
Booking.directive("availability",["$rootScope","dateFilter",function(t,e){return{restrict:"E",templateUrl:"/templates/directives/availability.html",controller:["$scope","ReservationService",function(t,e){t.submit=function(){e.query(t.query,function(t){})}}]}}]);
Booking.directive("footerNav",[function(){return{restrict:"E",scope:{},transclude:!0,templateUrl:"/templates/directives/footer.html",controller:"FooterController"}}]);
Booking.directive("home",[function(){return{restrict:"E",templateUrl:"/templates/home.html"}}]);
Booking.directive("inventory",[function(){return{restrict:"E",templateUrl:"/templates/inventory.html"}}]);
Booking.directive("leftNav",[function(){return{restrict:"A",scope:{},transclude:!0,templateUrl:"/templates/directives/left_nav.html",controller:"LeftNavController"}}]);
Booking.directive("login",[function(){return{restrict:"E",scope:{},transclude:!0,templateUrl:"/templates/directives/login.html",controller:"LoginController"}}]);
Booking.directive("policies",[function(){return{restrict:"E",scope:{},transclude:!0,templateUrl:"/templates/directives/policies.html",controller:"PoliciesController"}}]);
Booking.directive("query",["$rootScope","dateFilter",function(e,t){return{restrict:"E",templateUrl:"/templates/directives/query.html",controller:["$scope","InventoryService",function(t,r){t.max_adults=[1,2,3],t.max_childs=[0,1,2,3],t.query={adults:1,childs:0,check_in:(new moment).toDate(),check_out:(new moment).add(3,"days").toDate()},t.submit=function(){r.query(t.query,function(t){e.$broadcast("query:results")})}}]}}]);
Booking.directive("resNav",[function(){return{restrict:"E",scope:{},transclude:!0,templateUrl:"/templates/directives/res-nav.html",controller:"ResController"}}]);
Booking.directive("topNav",[function(){return{restrict:"E",scope:{},transclude:!0,templateUrl:"/templates/directives/header.html",controller:"HeaderController"}}]);
Booking.directive("user_profile",[function(){return{restrict:"E",templateUrl:"/templates/user_profile.html"}}]);
Booking.directive("users",[function(){return{restrict:"E",templateUrl:"/templates/users.html"}}]);
Booking.controller("CustomerController",["CustomerService",function(o){this.customer=null,this.data="Booking Customer";var t=this;CustomerService.data(function(o){t.customer=o,console.log(o)})}]);
Booking.controller("FooterController",["$scope",function(o){}]);
Booking.controller("HeaderController",["$scope",function(o){}]);
Booking.controller("HomeController",["CompanyService",function(o){this.company=null,this.data="Booking Home";var n=this;o.data(function(o){n.company=o,console.log(o)})}]);
Booking.controller("InventoryController",["$rootScope","InventoryService",function(t,o){this.results=o.results,t.$on("query:results",function(){this.results=o.results}.bind(this))}]);
Booking.controller("LeftNavController",["$scope",function(o){}]);
Booking.controller("LoginController",["$rootScope","$scope","$location","LoginService",function(o,n,t,i){n.submit=function(){i.auth(n.user,function(n,i){200===i&&(o.loggedIn=n,t.path("/"))})}}]);
Booking.controller("LogoutController",["$location","LoginService",function(o,n){n.logout(),o.path("/login")}]);
Booking.controller("PoliciesController",["$rootScope","$scope","$location",function(o,i,c){i.policies=function(o){return policies.show=!0}}]);
Booking.controller("ResController",["$scope",function(o){}]);
Booking.controller("ReservationController",["ReservationService",function(o){this.reservation=null,this.data="Booking Rerservation";var e=this;RoleService.data(function(o){e.reservation=o,console.log(o)})}]);
Booking.controller("RoleController",["RoleService",function(o){this.role=null,this.data="Booking User Role";var l=this;o.data(function(o){l.role=o,console.log(o)})}]);
Booking.controller("UsersController",["UsersService",function(s){this.users=null,this.data="Booking Users";var o=this;s.data(function(s){o.users=s,console.log(s)})}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImNvbXBhbnkuanMiLCJjdXN0b21lci5qcyIsImludmVudG9yeS5qcyIsImxvZ2luLmpzIiwicG9saWNpZXMuanMiLCJyZXNlcnZhdGlvbi5qcyIsInJvbGUuanMiLCJ1c2Vycy5qcyIsImF2YWlsYWJpbGl0eS5qcyIsImZvb3Rlcl9uYXYuanMiLCJob21lLmpzIiwibGVmdF9uYXYuanMiLCJxdWVyeS5qcyIsInJlel9uYXYuanMiLCJ0b3BfbmF2LmpzIiwidXNlcl9wcm9maWxlLmpzIiwiZm9vdGVyLmpzIiwiaGVhZGVyLmpzIiwibG9nb3V0LmpzIiwicmVzLWhlYWRlci5qcyJdLCJuYW1lcyI6WyJCb29raW5nIiwiYW5ndWxhciIsIm1vZHVsZSIsImNvbmZpZyIsIiRyb3V0ZVByb3ZpZGVyIiwiJGxvY2F0aW9uUHJvdmlkZXIiLCJ3aGVuIiwidGVtcGxhdGVVcmwiLCJjb250cm9sbGVyIiwib3RoZXJ3aXNlIiwicmVkaXJlY3RUbyIsImZhY3RvcnkiLCIkaHR0cCIsImRhdGEiLCJjYWxsYmFjayIsImdldCIsInN1Y2Nlc3MiLCJzdGF0dXMiLCJjb21wYW55X2lkIiwicmVzdWx0cyIsInF1ZXJ5IiwicG9zdCIsInRoaXMiLCJiaW5kIiwiJGNvb2tpZXMiLCIkcm9vdFNjb3BlIiwiYXV0aCIsImNyZWRlbnRpYWxzIiwicHV0IiwiSlNPTiIsInN0cmluZ2lmeSIsImVycm9yIiwiY29uc29sZSIsImxvZyIsInVzZXIiLCJsb2dnZWRJbiIsInBhcnNlIiwibG9nb3V0IiwicmVtb3ZlIiwiZGlyZWN0aXZlIiwiZGF0ZUZpbHRlciIsInJlc3RyaWN0IiwiJHNjb3BlIiwiUmVzZXJ2YXRpb25TZXJ2aWNlIiwic3VibWl0Iiwic2NvcGUiLCJ0cmFuc2NsdWRlIiwiSW52ZW50b3J5U2VydmljZSIsIm1heF9hZHVsdHMiLCJtYXhfY2hpbGRzIiwiYWR1bHRzIiwiY2hpbGRzIiwiY2hlY2tfaW4iLCJtb21lbnQiLCJ0b0RhdGUiLCJjaGVja19vdXQiLCJhZGQiLCIkYnJvYWRjYXN0IiwiVXNlcnNTZXJ2aWNlIiwiY3VzdG9tZXIiLCJfc2VsZiIsIkN1c3RvbWVyU2VydmljZSIsIkNvbXBhbnlTZXJ2aWNlIiwiY29tcGFueSIsIiRvbiIsIiRsb2NhdGlvbiIsIkxvZ2luU2VydmljZSIsInBhdGgiLCJwb2xpY2llcyIsInNob3ciLCJyZXNlcnZhdGlvbiIsIlJvbGVTZXJ2aWNlIiwicm9sZSIsInVzZXJzIl0sIm1hcHBpbmdzIjoiQUFBQSxHQUFJQSxRQUVKQSxTQUFVQyxRQUFRQyxPQUFPLFdBQVksVUFBVyxjQUVoREYsUUFBUUcsUUFBUSxpQkFBa0Isb0JBQXFCLFNBQVNDLEVBQWdCQyxHQUM5RUQsRUFDR0UsS0FBSyxLQUNKQyxZQUFjLDhCQUNkQyxXQUFjLG1CQUVmQyxXQUFZQyxXQUFhO0FDVjlCVixRQUFRVyxRQUFRLGtCQUFtQixRQUFTLFNBQVNDLEdBQ25ELE9BQ0VDLEtBQU8sU0FBU0MsR0FDZEYsRUFBTUcsSUFBSSxnQkFDUEMsUUFBUSxTQUFTSCxFQUFNSSxHQUN0QkgsRUFBU0Q7QUNMbkJiLFFBQVFXLFFBQVEsbUJBQW9CLFFBQVMsU0FBU0MsR0FDcEQsT0FDRUMsS0FBTyxTQUFTQyxHQUNkRixFQUFNRyxJQUFJLGlCQUNQQyxRQUFRLFNBQVNILEVBQU1JLEdBQ3RCSCxFQUFTRDtBQ0xuQmIsUUFBUVcsUUFBUSxvQkFBcUIsUUFBUyxTQUFTQyxHQUNyRCxHQUFJTSxHQUFhLEtBQ2pCLFFBQ0VDLFdBRUFOLEtBQU0sU0FBU0MsR0FDYkYsRUFBTUcsSUFBSSxrQkFDUEMsUUFBUSxTQUFTSCxFQUFNSSxHQUN0QkgsRUFBU0QsTUFHZk8sTUFBTyxTQUFTQSxFQUFPTixHQUNyQkYsRUFBTVMsS0FBSyxxQkFBcUJILEVBQVlFLEdBQ3pDSixRQUFRLFNBQVNILEVBQU1JLEdBQ3RCSyxLQUFLSCxRQUFVTixFQUNmQyxFQUFTRCxJQUNUVSxLQUFLRDtBQ2hCZnRCLFFBQVFXLFFBQVEsZ0JBQWlCLFFBQVMsV0FBWSxhQUFjLFNBQVNDLEVBQU9ZLEVBQVVDLEdBQzVGLE9BQ0VDLEtBQU0sU0FBU0MsRUFBYWIsR0FDMUJGLEVBQU1TLEtBQUssYUFBY00sR0FDdEJYLFFBQVEsU0FBU0gsRUFBTUksR0FDdEJPLEVBQVNJLElBQUksT0FBUUMsS0FBS0MsVUFBVWpCLElBQ3BDQyxFQUFTRCxFQUFNSSxLQUVoQmMsTUFBTSxXQUNMQyxRQUFRQyxJQUFJLFlBSWxCQyxLQUFNLFdBQ0osR0FBSUEsR0FBTyxJQUlYLE9BSElWLEdBQVNULElBQUksVUFDZlUsRUFBV1UsU0FBV0QsRUFBT0wsS0FBS08sTUFBTVosRUFBU1QsSUFBSSxVQUVoRG1CLEdBR1RHLE9BQVEsV0FDTlosRUFBV1UsU0FBVyxLQUN0QlgsRUFBU2MsT0FBTztBQ3ZCdEJ0QyxRQUFRVyxRQUFRLG1CQUFvQixRQUFTLFNBQVNDLEdBQ3BELE9BQ0VDLEtBQU8sU0FBU0MsR0FDZEYsRUFBTUcsSUFBSSxpQkFDUEMsUUFBUSxTQUFTSCxFQUFNSSxHQUN0QkgsRUFBU0Q7QUNMbkJiLFFBQVFXLFFBQVEsc0JBQXVCLFFBQVMsU0FBU0MsR0FDdkQsT0FDRUMsS0FBTyxTQUFTQyxHQUNkRixFQUFNRyxJQUFJLG9CQUNQQyxRQUFRLFNBQVNILEVBQU1JLEdBQ3RCSCxFQUFTRDtBQ0xuQmIsUUFBUVcsUUFBUSxlQUFnQixRQUFTLFNBQVNDLEdBQ2hELE9BQ0VDLEtBQU8sU0FBU0MsR0FDZEYsRUFBTUcsSUFBSSxhQUNQQyxRQUFRLFNBQVNILEVBQU1JLEdBQ3RCSCxFQUFTRDtBQ0xuQmIsUUFBUVcsUUFBUSxnQkFBaUIsUUFBUyxTQUFTQyxHQUNqRCxPQUNFQyxLQUFPLFNBQVNDLEdBQ2RGLEVBQU1HLElBQUksY0FDUEMsUUFBUSxTQUFTSCxFQUFNSSxHQUN0QkgsRUFBU0Q7QUNMbkJiLFFBQVF1QyxVQUFVLGdCQUFpQixhQUFjLGFBQWMsU0FBU2QsRUFBWWUsR0FDbEYsT0FDRUMsU0FBYyxJQUNkbEMsWUFBYywwQ0FDZEMsWUFBZSxTQUFVLHFCQUFzQixTQUFTa0MsRUFBUUMsR0FFOURELEVBQU9FLE9BQVMsV0FDYkQsRUFBbUJ2QixNQUFNc0IsRUFBT3RCLE1BQU8sU0FBU0Q7QUNQekRuQixRQUFRdUMsVUFBVSxhQUFjLFdBQzlCLE9BQ0VFLFNBQWMsSUFDZEksU0FDQUMsWUFBYyxFQUNkdkMsWUFBYyxvQ0FDZEMsV0FBYztBQ05sQlIsUUFBUXVDLFVBQVUsUUFBUyxXQUN6QixPQUNFRSxTQUFjLElBQ2RsQyxZQUFjO0FSSGxCUCxRQUFRdUMsVUFBVSxhQUFjLFdBQzlCLE9BQ0VFLFNBQWMsSUFDZGxDLFlBQWM7QVNIbEJQLFFBQVF1QyxVQUFVLFdBQVksV0FDNUIsT0FDRUUsU0FBYyxJQUNkSSxTQUNBQyxZQUFjLEVBQ2R2QyxZQUFjLHNDQUNkQyxXQUFjO0FSTmxCUixRQUFRdUMsVUFBVSxTQUFVLFdBQzFCLE9BQ0VFLFNBQWMsSUFDZEksU0FDQUMsWUFBYyxFQUNkdkMsWUFBYyxtQ0FDZEMsV0FBYztBQ05sQlIsUUFBUXVDLFVBQVUsWUFBYSxXQUM3QixPQUNFRSxTQUFjLElBQ2RJLFNBQ0FDLFlBQWMsRUFDZHZDLFlBQWMsc0NBQ2RDLFdBQWE7QVFOakJSLFFBQVF1QyxVQUFVLFNBQVUsYUFBYyxhQUFjLFNBQVNkLEVBQVllLEdBQzNFLE9BQ0VDLFNBQWMsSUFDZGxDLFlBQWMsbUNBQ2RDLFlBQWUsU0FBVSxtQkFBb0IsU0FBU2tDLEVBQVFLLEdBQzVETCxFQUFPTSxZQUFjLEVBQUUsRUFBRSxHQUN6Qk4sRUFBT08sWUFBYyxFQUFFLEVBQUUsRUFBRSxHQUMzQlAsRUFBT3RCLE9BQ0w4QixPQUFRLEVBQ1JDLE9BQVEsRUFDUkMsVUFBVSxHQUFJQyxTQUFTQyxTQUN2QkMsV0FBVyxHQUFJRixTQUFTRyxJQUFJLEVBQUcsUUFBUUYsVUFHekNaLEVBQU9FLE9BQVMsV0FDZEcsRUFBaUIzQixNQUFNc0IsRUFBT3RCLE1BQU8sU0FBU0QsR0FDNUNNLEVBQVdnQyxXQUFXO0FDaEJoQ3pELFFBQVF1QyxVQUFVLFVBQVcsV0FDM0IsT0FDRUUsU0FBYyxJQUNkSSxTQUNBQyxZQUFjLEVBQ2R2QyxZQUFjLHFDQUNkQyxXQUFjO0FDTmxCUixRQUFRdUMsVUFBVSxVQUFXLFdBQzNCLE9BQ0VFLFNBQWMsSUFDZEksU0FDQUMsWUFBYyxFQUNkdkMsWUFBYyxvQ0FDZEMsV0FBYztBQ05sQlIsUUFBUXVDLFVBQVUsZ0JBQWlCLFdBQ2pDLE9BQ0VFLFNBQWMsSUFDZGxDLFlBQWM7QVJIbEJQLFFBQVF1QyxVQUFVLFNBQVUsV0FDMUIsT0FDRUUsU0FBYyxJQUNkbEMsWUFBYztBTkhsQlAsUUFBUVEsV0FBVyxzQkFBdUIsa0JBQW1CLFNBQVNrRCxHQUNwRXBDLEtBQUtxQyxTQUFXLEtBQ2hCckMsS0FBS1QsS0FBTyxrQkFDWixJQUFJK0MsR0FBUXRDLElBRVp1QyxpQkFBZ0JoRCxLQUFLLFNBQVNBLEdBQzVCK0MsRUFBTUQsU0FBVzlDLEVBQ2pCbUIsUUFBUUMsSUFBSXBCO0FlUGhCYixRQUFRUSxXQUFXLG9CQUFxQixTQUFVLFNBQVNrQztBQ0EzRDFDLFFBQVFRLFdBQVcsb0JBQXFCLFNBQVUsU0FBU2tDO0FQQTNEMUMsUUFBUVEsV0FBVyxrQkFBbUIsaUJBQWtCLFNBQVNzRCxHQUMvRHhDLEtBQUt5QyxRQUFVLEtBQ2Z6QyxLQUFLVCxLQUFPLGNBQ1osSUFBSStDLEdBQVF0QyxJQUVad0MsR0FBZWpELEtBQUssU0FBU0EsR0FDM0IrQyxFQUFNRyxRQUFVbEQsRUFDaEJtQixRQUFRQyxJQUFJcEI7QVJQaEJiLFFBQVFRLFdBQVcsdUJBQXdCLGFBQWMsbUJBQW9CLFNBQVNpQixFQUFZc0IsR0FDaEd6QixLQUFLSCxRQUFVNEIsRUFBaUI1QixRQUVoQ00sRUFBV3VDLElBQUksZ0JBQWlCLFdBQzlCMUMsS0FBS0gsUUFBVTRCLEVBQWlCNUIsU0FDaENJLEtBQUtEO0FTTFR0QixRQUFRUSxXQUFXLHFCQUFzQixTQUFVLFNBQVNrQztBUkE1RDFDLFFBQVFRLFdBQVcsbUJBQW9CLGFBQWMsU0FBVSxZQUFhLGVBQzFFLFNBQVNpQixFQUFZaUIsRUFBUXVCLEVBQVdDLEdBQ3RDeEIsRUFBT0UsT0FBUyxXQUNkc0IsRUFBYXhDLEtBQUtnQixFQUFPUixLQUFNLFNBQVNyQixFQUFNSSxHQUM3QixNQUFYQSxJQUNGUSxFQUFXVSxTQUFXdEIsRUFDdEJvRCxFQUFVRSxLQUFLO0FlTnpCbkUsUUFBUVEsV0FBVyxvQkFBcUIsWUFBYSxlQUFnQixTQUFTeUQsRUFBV0MsR0FDdkZBLEVBQWE3QixTQUNiNEIsRUFBVUUsS0FBSztBZEZqQm5FLFFBQVFRLFdBQVcsc0JBQXVCLGFBQWMsU0FBVSxZQUFhLFNBQVNpQixFQUFZaUIsRUFBUXVCLEdBQ3hHdkIsRUFBTzBCLFNBQVcsU0FBU0MsR0FDekIsTUFBT0QsVUFBU0MsTUFBTztBZUY3QnJFLFFBQVFRLFdBQVcsaUJBQWtCLFNBQVUsU0FBU2tDO0FkQXhEMUMsUUFBUVEsV0FBVyx5QkFBMEIscUJBQXNCLFNBQVNtQyxHQUMxRXJCLEtBQUtnRCxZQUFjLEtBQ25CaEQsS0FBS1QsS0FBTyxzQkFDWixJQUFJK0MsR0FBUXRDLElBRVppRCxhQUFZMUQsS0FBSyxTQUFTQSxHQUN4QitDLEVBQU1VLFlBQWN6RCxFQUNwQm1CLFFBQVFDLElBQUlwQjtBQ1BoQmIsUUFBUVEsV0FBVyxrQkFBbUIsY0FBZSxTQUFTK0QsR0FDNURqRCxLQUFLa0QsS0FBTyxLQUNabEQsS0FBS1QsS0FBTyxtQkFDWixJQUFJK0MsR0FBUXRDLElBRVppRCxHQUFZMUQsS0FBSyxTQUFTQSxHQUN4QitDLEVBQU1ZLEtBQU8zRCxFQUNibUIsUUFBUUMsSUFBSXBCO0FDUGhCYixRQUFRUSxXQUFXLG1CQUFvQixlQUFnQixTQUFTa0QsR0FDOURwQyxLQUFLbUQsTUFBUSxLQUNibkQsS0FBS1QsS0FBTyxlQUNaLElBQUkrQyxHQUFRdEMsSUFFWm9DLEdBQWE3QyxLQUFLLFNBQVNBLEdBQ3pCK0MsRUFBTWEsTUFBUTVELEVBQ2RtQixRQUFRQyxJQUFJcEIiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIEJvb2tpbmc7XG5cbkJvb2tpbmcgPSBhbmd1bGFyLm1vZHVsZSgnQm9va2luZycsIFsnbmdSb3V0ZScsICduZ0Nvb2tpZXMnXSk7XG5cbkJvb2tpbmcuY29uZmlnKFsnJHJvdXRlUHJvdmlkZXInLCAnJGxvY2F0aW9uUHJvdmlkZXInLCBmdW5jdGlvbigkcm91dGVQcm92aWRlciwgJGxvY2F0aW9uUHJvdmlkZXIpe1xuICAkcm91dGVQcm92aWRlclxuICAgIC53aGVuKCcvJywge1xuICAgICAgdGVtcGxhdGVVcmwgOiAnL3RlbXBsYXRlcy92aWV3cy9pbmRleC5odG1sJyxcbiAgICAgIGNvbnRyb2xsZXIgIDogJ0hvbWVDb250cm9sbGVyJ1xuICAgIH0pXG4gICAgLm90aGVyd2lzZSh7IHJlZGlyZWN0VG8gOiAnLycgfSk7XG5cbiAgLy8kbG9jYXRpb25Qcm92aWRlci5odG1sNU1vZGUodHJ1ZSk7XG59XSk7XG5cbiIsIkJvb2tpbmcuZmFjdG9yeSgnQ29tcGFueVNlcnZpY2UnLCBbJyRodHRwJywgZnVuY3Rpb24oJGh0dHApe1xuICByZXR1cm4ge1xuICAgIGRhdGEgOiBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgICAgJGh0dHAuZ2V0KCcvYXBpL2NvbXBhbnknKVxuICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhLCBzdGF0dXMpe1xuICAgICAgICAgIGNhbGxiYWNrKGRhdGEpO1xuICAgICAgICB9KTtcbiAgICB9XG4gIH07XG5cbn1dKTtcbiIsIkJvb2tpbmcuY29udHJvbGxlcignQ3VzdG9tZXJDb250cm9sbGVyJywgWydDdXN0b21lclNlcnZpY2UnLCBmdW5jdGlvbihVc2Vyc1NlcnZpY2Upe1xuICB0aGlzLmN1c3RvbWVyID0gbnVsbDtcbiAgdGhpcy5kYXRhID0gJ0Jvb2tpbmcgQ3VzdG9tZXInO1xuICB2YXIgX3NlbGYgPSB0aGlzO1xuXG4gIEN1c3RvbWVyU2VydmljZS5kYXRhKGZ1bmN0aW9uKGRhdGEpe1xuICAgIF9zZWxmLmN1c3RvbWVyID0gZGF0YTtcbiAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgfSk7XG59XSk7IiwiQm9va2luZy5jb250cm9sbGVyKCdJbnZlbnRvcnlDb250cm9sbGVyJywgWyckcm9vdFNjb3BlJywgJ0ludmVudG9yeVNlcnZpY2UnLCBmdW5jdGlvbigkcm9vdFNjb3BlLCBJbnZlbnRvcnlTZXJ2aWNlKXtcbiAgdGhpcy5yZXN1bHRzID0gSW52ZW50b3J5U2VydmljZS5yZXN1bHRzO1xuXG4gICRyb290U2NvcGUuJG9uKCdxdWVyeTpyZXN1bHRzJywgZnVuY3Rpb24oKXtcbiAgICB0aGlzLnJlc3VsdHMgPSBJbnZlbnRvcnlTZXJ2aWNlLnJlc3VsdHM7XG4gIH0uYmluZCh0aGlzKSk7XG59XSk7XG4iLCJCb29raW5nLmNvbnRyb2xsZXIoJ0xvZ2luQ29udHJvbGxlcicsIFsnJHJvb3RTY29wZScsICckc2NvcGUnLCAnJGxvY2F0aW9uJywgJ0xvZ2luU2VydmljZScsXG4gIGZ1bmN0aW9uKCRyb290U2NvcGUsICRzY29wZSwgJGxvY2F0aW9uLCBMb2dpblNlcnZpY2Upe1xuICAgICRzY29wZS5zdWJtaXQgPSBmdW5jdGlvbigpe1xuICAgICAgTG9naW5TZXJ2aWNlLmF1dGgoJHNjb3BlLnVzZXIsIGZ1bmN0aW9uKGRhdGEsIHN0YXR1cyl7XG4gICAgICAgIGlmIChzdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgICRyb290U2NvcGUubG9nZ2VkSW4gPSBkYXRhO1xuICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgfV1cbik7XG5cbiIsIkJvb2tpbmcuY29udHJvbGxlcignUG9saWNpZXNDb250cm9sbGVyJywgWyckcm9vdFNjb3BlJywgJyRzY29wZScsICckbG9jYXRpb24nLCBmdW5jdGlvbigkcm9vdFNjb3BlLCAkc2NvcGUsICRsb2NhdGlvbil7XG4gICAgJHNjb3BlLnBvbGljaWVzID0gZnVuY3Rpb24oc2hvdykge1xuICAgICAgcmV0dXJuIHBvbGljaWVzLnNob3cgPSB0cnVlOyAgXG4gICAgfTtcbiAgfVxuXSk7XG5cbiIsIkJvb2tpbmcuY29udHJvbGxlcignUmVzZXJ2YXRpb25Db250cm9sbGVyJywgWydSZXNlcnZhdGlvblNlcnZpY2UnLCBmdW5jdGlvbihSZXNlcnZhdGlvblNlcnZpY2Upe1xuICB0aGlzLnJlc2VydmF0aW9uID0gbnVsbDtcbiAgdGhpcy5kYXRhID0gJ0Jvb2tpbmcgUmVyc2VydmF0aW9uJztcbiAgdmFyIF9zZWxmID0gdGhpcztcblxuICBSb2xlU2VydmljZS5kYXRhKGZ1bmN0aW9uKGRhdGEpe1xuICAgIF9zZWxmLnJlc2VydmF0aW9uID0gZGF0YTtcbiAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgfSk7XG59XSk7IiwiQm9va2luZy5jb250cm9sbGVyKCdSb2xlQ29udHJvbGxlcicsIFsnUm9sZVNlcnZpY2UnLCBmdW5jdGlvbihSb2xlU2VydmljZSl7XG4gIHRoaXMucm9sZSA9IG51bGw7XG4gIHRoaXMuZGF0YSA9ICdCb29raW5nIFVzZXIgUm9sZSc7XG4gIHZhciBfc2VsZiA9IHRoaXM7XG5cbiAgUm9sZVNlcnZpY2UuZGF0YShmdW5jdGlvbihkYXRhKXtcbiAgICBfc2VsZi5yb2xlID0gZGF0YTtcbiAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgfSk7XG59XSk7IiwiQm9va2luZy5jb250cm9sbGVyKCdVc2Vyc0NvbnRyb2xsZXInLCBbJ1VzZXJzU2VydmljZScsIGZ1bmN0aW9uKFVzZXJzU2VydmljZSl7XG4gIHRoaXMudXNlcnMgPSBudWxsO1xuICB0aGlzLmRhdGEgPSAnQm9va2luZyBVc2Vycyc7XG4gIHZhciBfc2VsZiA9IHRoaXM7XG5cbiAgVXNlcnNTZXJ2aWNlLmRhdGEoZnVuY3Rpb24oZGF0YSl7XG4gICAgX3NlbGYudXNlcnMgPSBkYXRhO1xuICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICB9KTtcbn1dKTsiLCJCb29raW5nLmRpcmVjdGl2ZSgnYXZhaWxhYmlsaXR5JywgWyckcm9vdFNjb3BlJywgJ2RhdGVGaWx0ZXInLCBmdW5jdGlvbigkcm9vdFNjb3BlLCBkYXRlRmlsdGVyKXtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdCAgICA6ICdFJyxcbiAgICB0ZW1wbGF0ZVVybCA6ICcvdGVtcGxhdGVzL2RpcmVjdGl2ZXMvYXZhaWxhYmlsaXR5Lmh0bWwnLFxuICAgIGNvbnRyb2xsZXIgIDogWyckc2NvcGUnLCAnUmVzZXJ2YXRpb25TZXJ2aWNlJywgZnVuY3Rpb24oJHNjb3BlLCBSZXNlcnZhdGlvblNlcnZpY2Upe1xuICAgICBcbiAgICAgICRzY29wZS5zdWJtaXQgPSBmdW5jdGlvbigpe1xuICAgICAgICAgUmVzZXJ2YXRpb25TZXJ2aWNlLnF1ZXJ5KCRzY29wZS5xdWVyeSwgZnVuY3Rpb24ocmVzdWx0cyl7XG4gICAgICAgICAgXG4gICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XVxuICB9O1xufV0pOyIsIkJvb2tpbmcuZGlyZWN0aXZlKCdmb290ZXJOYXYnLCBbZnVuY3Rpb24oKXtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdCAgICA6ICdFJyxcbiAgICBzY29wZSAgICAgICA6IHt9LFxuICAgIHRyYW5zY2x1ZGUgIDogdHJ1ZSxcbiAgICB0ZW1wbGF0ZVVybCA6ICcvdGVtcGxhdGVzL2RpcmVjdGl2ZXMvZm9vdGVyLmh0bWwnLFxuICAgIGNvbnRyb2xsZXIgIDogJ0Zvb3RlckNvbnRyb2xsZXInXG4gIH07XG59XSk7XG5cbiIsIkJvb2tpbmcuY29udHJvbGxlcignSG9tZUNvbnRyb2xsZXInLCBbJ0NvbXBhbnlTZXJ2aWNlJywgZnVuY3Rpb24oQ29tcGFueVNlcnZpY2Upe1xuICB0aGlzLmNvbXBhbnkgPSBudWxsO1xuICB0aGlzLmRhdGEgPSAnQm9va2luZyBIb21lJztcbiAgdmFyIF9zZWxmID0gdGhpcztcblxuICBDb21wYW55U2VydmljZS5kYXRhKGZ1bmN0aW9uKGRhdGEpe1xuICAgIF9zZWxmLmNvbXBhbnkgPSBkYXRhO1xuICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICB9KTtcbn1dKTtcbiIsIkJvb2tpbmcuY29udHJvbGxlcignTGVmdE5hdkNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSl7XG59XSk7XG5cbiIsIkJvb2tpbmcuZGlyZWN0aXZlKCdxdWVyeScsIFsnJHJvb3RTY29wZScsICdkYXRlRmlsdGVyJywgZnVuY3Rpb24oJHJvb3RTY29wZSwgZGF0ZUZpbHRlcil7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3QgICAgOiAnRScsXG4gICAgdGVtcGxhdGVVcmwgOiAnL3RlbXBsYXRlcy9kaXJlY3RpdmVzL3F1ZXJ5Lmh0bWwnLFxuICAgIGNvbnRyb2xsZXIgIDogWyckc2NvcGUnLCAnSW52ZW50b3J5U2VydmljZScsIGZ1bmN0aW9uKCRzY29wZSwgSW52ZW50b3J5U2VydmljZSl7XG4gICAgICAkc2NvcGUubWF4X2FkdWx0cyA9IFsxLDIsM107XG4gICAgICAkc2NvcGUubWF4X2NoaWxkcyA9IFswLDEsMiwzXTtcbiAgICAgICRzY29wZS5xdWVyeSA9IHtcbiAgICAgICAgYWR1bHRzOiAxLFxuICAgICAgICBjaGlsZHM6IDAsXG4gICAgICAgIGNoZWNrX2luOiBuZXcgbW9tZW50KCkudG9EYXRlKCksXG4gICAgICAgIGNoZWNrX291dDogbmV3IG1vbWVudCgpLmFkZCgzLCAnZGF5cycpLnRvRGF0ZSgpXG4gICAgICB9O1xuXG4gICAgICAkc2NvcGUuc3VibWl0ID0gZnVuY3Rpb24oKXtcbiAgICAgICAgSW52ZW50b3J5U2VydmljZS5xdWVyeSgkc2NvcGUucXVlcnksIGZ1bmN0aW9uKHJlc3VsdHMpe1xuICAgICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgncXVlcnk6cmVzdWx0cycpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XVxuICB9O1xufV0pO1xuXG4iLCJCb29raW5nLmRpcmVjdGl2ZSgncmVzTmF2JywgW2Z1bmN0aW9uKCl7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3QgICAgOiAnRScsXG4gICAgc2NvcGUgICAgICAgOiB7fSxcbiAgICB0cmFuc2NsdWRlICA6IHRydWUsXG4gICAgdGVtcGxhdGVVcmwgOiAnL3RlbXBsYXRlcy9kaXJlY3RpdmVzL3Jlcy1uYXYuaHRtbCcsXG4gICAgY29udHJvbGxlciAgOiAnUmVzQ29udHJvbGxlcidcbiAgfTtcbn1dKTtcblxuIiwiQm9va2luZy5kaXJlY3RpdmUoJ3RvcE5hdicsIFtmdW5jdGlvbigpe1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0ICAgIDogJ0UnLFxuICAgIHNjb3BlICAgICAgIDoge30sXG4gICAgdHJhbnNjbHVkZSAgOiB0cnVlLFxuICAgIHRlbXBsYXRlVXJsIDogJy90ZW1wbGF0ZXMvZGlyZWN0aXZlcy9oZWFkZXIuaHRtbCcsXG4gICAgY29udHJvbGxlciAgOiAnSGVhZGVyQ29udHJvbGxlcidcbiAgfTtcbn1dKTtcblxuIiwiQm9va2luZy5kaXJlY3RpdmUoJ3VzZXJfcHJvZmlsZScsIFtmdW5jdGlvbigpe1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0ICAgIDogJ0UnLFxuICAgIHRlbXBsYXRlVXJsIDogJy90ZW1wbGF0ZXMvdXNlcl9wcm9maWxlLmh0bWwnXG4gIH07XG59XSk7XG4iLCJCb29raW5nLmNvbnRyb2xsZXIoJ0Zvb3RlckNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSl7XG59XSk7XG5cbiIsIkJvb2tpbmcuY29udHJvbGxlcignSGVhZGVyQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKXtcbn1dKTtcblxuIiwiQm9va2luZy5jb250cm9sbGVyKCdMb2dvdXRDb250cm9sbGVyJywgWyckbG9jYXRpb24nLCAnTG9naW5TZXJ2aWNlJywgZnVuY3Rpb24oJGxvY2F0aW9uLCBMb2dpblNlcnZpY2Upe1xuICBMb2dpblNlcnZpY2UubG9nb3V0KCk7XG4gICRsb2NhdGlvbi5wYXRoKCcvbG9naW4nKTtcbn1dKTtcblxuXG4iLCJCb29raW5nLmNvbnRyb2xsZXIoJ1Jlc0NvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSl7XG59XSk7XG5cbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==